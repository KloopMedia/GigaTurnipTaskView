{"version":3,"sources":["config/Urls.js","util/Axios.js","util/Firebase.js","components/custom-widgets/file-widget/Upload.js","components/custom-widgets/file-widget/LinearProgressWithLabel.tsx","components/custom-widgets/file-widget/CustomFileWidget.tsx","util/Auth.js","components/text-editor/TextViewer.tsx","util/Util.tsx","components/custom-widgets/autocomplete/AutoCompleteWidget.tsx","components/custom-widgets/fixed-radio-widget/FixedRadioWidget.tsx","components/tasks/Task.tsx","config/Config.js","components/appbar/Appbar.tsx","components/appbar/SimpleAppbar.tsx","components/campaigns/CampaignCard.tsx","components/campaigns/Campaigns.tsx","components/Tabs/TabPanel.tsx","components/Tabs/Tabs.tsx","components/tasks/TaskCard.tsx","components/tasks/QuckTaskContent.tsx","components/tasks/QuickTask.tsx","components/tasks/TaskList.tsx","components/tasks/TaskMenu.tsx","components/campaigns/About.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["campaignsUrl","taskstagesUrl","tasksUrl","instance","axios","create","baseURL","interceptors","request","use","config","token","localStorage","getItem","headers","error","Promise","reject","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","provider","auth","GoogleAuthProvider","firestore","settings","ignoreUndefinedProperties","signInWithGoogle","setCustomParameters","prompt","signInWithPopup","signOut","then","removeItem","window","location","reload","returnNewState","prevState","update","multiple","upload","files","storageRef","setFileBeingUploaded","setFileLinks","a","all","map","file","filename","name","replace","console","log","snap","child","put","status","progress","on","storage","TaskEvent","STATE_CHANGED","snapshot","bytesTransferred","totalBytes","ref","getDownloadURL","downloadURL","fullPath","filePath","fileLink","url","LinearProgressWithLabel","props","Box","display","alignItems","width","mr","LinearProgress","variant","minWidth","Typography","color","Math","round","value","CustomFileWidget","schema","uiSchema","disabled","required","formContext","campaignId","chainId","stageId","userId","taskId","useState","uploadedFiles","setUploadedFiles","fileLinks","currentFile","setCurrentFile","isImageOpen","setIsImageOpen","isVideoOpen","setIsVideoOpen","fileType","setFileType","parsedValue","setParsedValue","privateUpload","private","multipleSelect","hasUploadedFiles","Object","keys","length","isInputRequired","pathToFolder","undefined","useEffect","parsed","JSON","parse","forEach","getDownloadUrl","handleChange","event","target","path","stringify","allFiles","onChange","handleFileClick","getMetadata","metadata","type","contentType","split","alert","closeViewer","src","disableScroll","backgroundStyle","backgroundColor","closeOnClickOutside","onClose","Dialog","open","fullWidth","height","controls","className","title","i","style","onClick","fontSize","padding","margin","links","uploaded","deleteFile","AuthContext","React","createContext","AuthProvider","children","currentUser","setCurrentUser","onAuthStateChanged","user","getIdToken","idToken","setItem","onIdTokenChanged","Provider","TextViewer","data","id","inline","tinymceScriptSrc","process","init","plugins","toolbar","menubar","image_advtab","importcss_append","paginatedDataHandler","setDataFunction","setCountFunction","results","count","numOfPages","ceil","requestTaskAssignment","post","getSelectableTasks","page","get","res","getCompleteTasks","getOpenTasks","getPreviousTasks","AutoCompleteWidget","placeholder","readonly","label","onBlur","onFocus","autofocus","options","rawErrors","searchField","responseField","params","examples","setExamples","updateExamples","webhook","inputType","Form","Group","Label","Control","autoFocus","readOnly","list","emptyValue","example","RadioWidget","enumOptions","enumDisabled","_onChange","_onBlur","_onFocus","Boolean","option","itemDisabled","Array","isArray","indexOf","checked","Check","Task","useParams","history","useHistory","useContext","setSchema","setUiSchema","formResponses","setFormResponses","complete","setComplete","prevTasks","setPrevTasks","dataForStoragePath","setDataForStoragePath","editorData","setEditorData","loader","setLoader","ready","setReady","widgets","customfile","autocomplete","FixedRadioWidget","task","stage","rich_text","toString","chain","uid","parsed_schema","json_schema","parsed_ui","ui_schema","responses","previousTasks","setData","paddingBottom","Grid","formData","liveOmit","omitExtraData","e","patch","onSubmit","push","Button","paddingLeft","CircularProgress","projectName","drawerWidth","openedMixin","theme","transition","transitions","easing","sharp","duration","enteringScreen","overflowX","closedMixin","leavingScreen","spacing","breakpoints","up","DrawerHeader","styled","justifyContent","mixins","AppBar","MuiAppBar","shouldForwardProp","prop","zIndex","drawer","marginLeft","MuiDrawer","flexShrink","whiteSpace","boxSizing","useTheme","sx","CssBaseline","position","Toolbar","noWrap","component","cursor","flexGrow","email","p","ParentCard","description","campaign","onCardButtonClick","openCampaignInfo","selectable","Card","CardContent","gutterBottom","CardActions","size","Builder","userCampaigns","setUserCampaigns","selectableCampaigns","setSelectableCampaigns","handleCardRedirect","align","container","item","TabPanel","index","other","role","hidden","a11yProps","SimpleTabs","bgcolor","Tabs","centered","Tab","showSelectable","TaskCard","creatable","handleOpen","pathname","handleCreate","requestTaskCreation","catch","err","handleSelectable","QuickTaskContent","taskData","isAssigned","refreshTasks","displayed_prev_tasks","direction","sm","xs","ExpandMore","expand","IconButton","transform","shortest","QuickTask","expanded","setExpanded","setAssigned","CardHeader","action","Stack","borderRadius","py","px","subheader","titleTypographyProps","subheaderTypographyProps","Collapse","in","timeout","unmountOnExit","TaskList","tasks","expandAll","setExpandAll","TaskMenu","tab","setTab","selectableTasks","setSelectableTasks","completeTasks","setCompleteTasks","openTasks","setOpenTasks","creatableTasks","setCreatableTasks","totalPages","setTotalPages","setPage","getCreatableTasks","newValue","pb","Pagination","showFirstButton","showLastButton","About","setName","setDescription","richText","setRichText","requestCampaignInfo","requestCampaignJoin","App","exact","Appbar","SimpleAppbar","Campaigns","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.20a1d12e.chunk.js","sourcesContent":["const baseUrl = \"https://journal-bb5e3.uc.r.appspot.com/\"\r\n// const baseUrl = \"http://127.0.0.1:8000/\"\r\nconst campaignsUrl = \"api/v1/campaigns/\"\r\nconst chainsUrl = \"api/v1/chains/\"\r\nconst taskstagesUrl = \"api/v1/taskstages/\"\r\nconst webhookstagesUrl = \"api/v1/webhookstages/\"\r\nconst conditionalstagesUrl = \"api/v1/conditionalstages/\"\r\nconst casesUrl = \"api/v1/cases/\"\r\nconst tasksUrl = \"api/v1/tasks/\"\r\n\r\nexport {\r\n    baseUrl,\r\n    campaignsUrl,\r\n    chainsUrl,\r\n    taskstagesUrl,\r\n    webhookstagesUrl,\r\n    conditionalstagesUrl,\r\n    casesUrl,\r\n    tasksUrl\r\n}","import axios from \"axios\";\r\nimport {baseUrl} from \"../config/Urls\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: baseUrl\r\n});\r\n\r\ninstance.interceptors.request.use(\r\n    function (config) {\r\n        const token = localStorage.getItem(\"token\");\r\n        if (token) {\r\n            config.headers[\"Authorization\"] = 'JWT ' + token;\r\n        }\r\n        return config;\r\n    },\r\n    function (error) {\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\nexport default instance;","import firebase from 'firebase';\r\n\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyCXiwOUNsbzKH7sbSAZrqA9f7VOeCMdUOQ\",\r\n    authDomain: \"gigaturnip-b6b5b.firebaseapp.com\",\r\n    projectId: \"gigaturnip-b6b5b\",\r\n    storageBucket: \"gigaturnip-b6b5b.appspot.com\",\r\n    messagingSenderId: \"414429242328\",\r\n    appId: \"1:414429242328:web:a4685f5ac6895ea767c8ad\",\r\n    measurementId: \"G-Y8JTEJMTET\"\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n// const db = firebase.firestore();\r\n// if (window.location.hostname === \"localhost\") {\r\n//   db.useEmulator(\"localhost\", 8080);\r\n// }\r\n\r\nconst provider = new firebase.auth.GoogleAuthProvider();\r\nfirebase.firestore().settings({\r\n    ignoreUndefinedProperties: true,\r\n})\r\nexport const signInWithGoogle = () => {\r\n    provider.setCustomParameters({\r\n        prompt: 'select_account'\r\n    });\r\n    return firebase.auth().signInWithPopup(provider);\r\n};\r\n\r\nexport const signOut = () => {\r\n    return firebase.auth().signOut()\r\n        .then(() => localStorage.removeItem(\"token\"))\r\n        .then(() => window.location.reload())\r\n}\r\n\r\nexport default firebase;","import firebase from '../../../util/Firebase'\r\n\r\nconst returnNewState = (prevState, update, multiple) => {\r\n    if (multiple) {\r\n        if (prevState) {\r\n            return {...prevState, ...update}\r\n        } else {\r\n            return update\r\n        }\r\n    } else {\r\n        return update\r\n    }\r\n}\r\n\r\nconst upload = async (files, storageRef, setFileBeingUploaded, setFileLinks, multiple) => {\r\n    if (storageRef) {\r\n        if (!multiple) {\r\n            setFileBeingUploaded({})\r\n            setFileLinks({})\r\n        }\r\n        await Promise.all(files.map(async file => {\r\n            const filename = file.name.replace(/\\./g, '_').replace(/ /g, '_');\r\n            console.log(filename)\r\n            const snap = storageRef.child(filename).put(file)\r\n            setFileBeingUploaded(prevState => {\r\n                const update = {[filename]: {status: \"loading\", progress: 0}}\r\n                return prevState ? {...prevState, ...update} : update\r\n            })\r\n\r\n            // Listen for state changes, errors, and completion of the upload.\r\n            snap.on(firebase.storage.TaskEvent.STATE_CHANGED, // or 'state_changed'\r\n                snapshot => {\r\n                    // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\r\n                    const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n                    setFileBeingUploaded(prevState => {\r\n                        const update = {[filename]: {status: \"loading\", progress: progress}}\r\n                        return prevState ? {...prevState, ...update} : update\r\n                    })\r\n                },\r\n                error => {\r\n                    console.log(error)\r\n                },\r\n                () => {\r\n                    // Upload completed successfully, now we can get the download URL\r\n                    snap.snapshot.ref.getDownloadURL().then(downloadURL => {\r\n                        console.log(\"FILE PATH\", snap.snapshot.ref.fullPath)\r\n                        const filePath = snap.snapshot.ref.fullPath\r\n                        const fileLink = downloadURL\r\n                        setFileBeingUploaded(prevState => {\r\n                            const update = {[filename]: {status: \"complete\", progress: 100, url: fileLink}}\r\n                            return returnNewState(prevState, update, multiple)\r\n                        })\r\n                        setFileLinks(prevState => {\r\n                            const update = {[filename]: filePath}\r\n                            return returnNewState(prevState, update, multiple)\r\n                        })\r\n                    });\r\n                });\r\n        }))\r\n    }\r\n    ;\r\n}\r\n\r\nexport default upload","import React from 'react'\r\nimport {Box, LinearProgress, Typography} from \"@mui/material\"\r\n\r\nconst LinearProgressWithLabel = (props: any) => {\r\n    return (\r\n        <Box display=\"flex\" alignItems=\"center\">\r\n            <Box width=\"100%\" mr={1}>\r\n                <LinearProgress variant=\"determinate\" {...props} />\r\n            </Box>\r\n            <Box minWidth={35}>\r\n                <Typography variant=\"body2\" color=\"textSecondary\">{`${Math.round(\r\n                    props.value,\r\n                )}%`}</Typography>\r\n            </Box>\r\n        </Box>\r\n    );\r\n}\r\n\r\nexport default LinearProgressWithLabel","import React, {useEffect, useState} from 'react'\r\nimport firebase from '../../../util/Firebase'\r\nimport upload from \"./Upload\";\r\nimport LinearProgressWithLabel from \"./LinearProgressWithLabel\";\r\nimport ImageViewer from 'react-simple-image-viewer';\r\nimport {Dialog} from \"@mui/material\";\r\n\r\n\r\nconst CustomFileWidget = (props: any) => {\r\n    const {schema, uiSchema, disabled, required, formContext, value} = props;\r\n    const {campaignId, chainId, stageId, userId, taskId} = formContext;\r\n    const [uploadedFiles, setUploadedFiles] = useState<any>({})\r\n    const [fileLinks, setFileLinks] = useState<any>({})\r\n    const [currentFile, setCurrentFile] = useState(\"\")\r\n    const [isImageOpen, setIsImageOpen] = useState(false);\r\n    const [isVideoOpen, setIsVideoOpen] = useState(false);\r\n    const [fileType, setFileType] = useState(\"\")\r\n    const [parsedValue, setParsedValue] = useState<any>({})\r\n\r\n    const privateUpload = uiSchema[\"ui:options\"] && uiSchema[\"ui:options\"].private ? uiSchema[\"ui:options\"].private : false\r\n    const multipleSelect = uiSchema[\"ui:options\"] && uiSchema[\"ui:options\"].multiple ? uiSchema[\"ui:options\"].multiple : false\r\n    const hasUploadedFiles = Object.keys(uploadedFiles).length > 0\r\n    const isInputRequired = required && !hasUploadedFiles\r\n\r\n    let pathToFolder: any = undefined\r\n    if (campaignId && chainId && stageId && userId && taskId) {\r\n        pathToFolder = firebase.storage()\r\n        if (privateUpload) {\r\n            pathToFolder = pathToFolder.ref(\"private\")\r\n        } else {\r\n            pathToFolder = pathToFolder.ref(\"public\")\r\n        }\r\n        pathToFolder = pathToFolder.child(campaignId)\r\n            .child(chainId)\r\n            .child(stageId)\r\n            .child(userId)\r\n            .child(taskId)\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        if (value && Object.keys(value).length > 0) {\r\n            console.log(\"value\", value)\r\n            const parsed = JSON.parse(value)\r\n            setParsedValue(parsed)\r\n            Object.keys(parsed).forEach(filename => {\r\n                getDownloadUrl(parsed[filename])\r\n                    .then(url => setUploadedFiles((prevState: any) => ({\r\n                        ...prevState,\r\n                        [filename]: {url: url, status: \"complete\"}\r\n                    })))\r\n            })\r\n        }\r\n    }, [value])\r\n\r\n    const handleChange = async (event: any) => {\r\n        console.log(\"Files selected: \", [...event.target.files,])\r\n        upload([...event.target.files], pathToFolder, setUploadedFiles, setFileLinks, multipleSelect)\r\n        event.target.value = null;\r\n    };\r\n\r\n    const getDownloadUrl = (path: string) => {\r\n        return firebase.storage().ref(path).getDownloadURL()\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (fileLinks && Object.keys(fileLinks).length > 0) {\r\n            console.log(\"fileLinks\", fileLinks)\r\n            try {\r\n                let stringify = \"\";\r\n                if (multipleSelect) {\r\n                    const parsed = JSON.parse(value);\r\n                    const allFiles = {...parsed, ...fileLinks};\r\n                    stringify = JSON.stringify(allFiles);\r\n                } else {\r\n                    stringify = JSON.stringify(fileLinks);\r\n                }\r\n                props.onChange(stringify);\r\n            } catch (error) {\r\n                const stringify = JSON.stringify(fileLinks)\r\n                console.error(error)\r\n                props.onChange(stringify)\r\n            }\r\n        }\r\n    }, [fileLinks])\r\n\r\n    const deleteFile = (filename: string) => {\r\n        const parsed = parsedValue\r\n        if (filename in parsed) {\r\n            delete parsed[filename]\r\n            const stringify = JSON.stringify(parsed)\r\n            props.onChange(stringify)\r\n        }\r\n\r\n        const links = {...fileLinks}\r\n        if (filename in links) {\r\n            delete links[filename]\r\n            setFileLinks(links)\r\n        }\r\n\r\n        const uploaded = {...uploadedFiles}\r\n        if (filename in uploaded) {\r\n            delete uploaded[filename]\r\n            setUploadedFiles(uploaded)\r\n        }\r\n        console.log(\"DELETE LOG\", uploaded)\r\n    };\r\n\r\n    const handleFileClick = async (filename: string) => {\r\n        const parsed = parsedValue;\r\n        console.log(\"FILE CLICK VALUE\", parsed)\r\n        if (filename in parsed) {\r\n            const path = parsed[filename];\r\n            console.log(path)\r\n            const metadata = await firebase.storage().ref().child(path).getMetadata()\r\n            const type = metadata.contentType.split(\"/\")[0]\r\n            console.log(\"FILE TYPE\", type)\r\n            switch (type) {\r\n                case \"image\":\r\n                    setCurrentFile(uploadedFiles[filename].url);\r\n                    setFileType(metadata.contentType);\r\n                    setIsImageOpen(true);\r\n                    break;\r\n                case \"video\":\r\n                    setCurrentFile(uploadedFiles[filename].url);\r\n                    setFileType(metadata.contentType);\r\n                    setIsVideoOpen(true);\r\n                    break;\r\n                default:\r\n                    // window.open(uploadedFiles[filename].url, '_blank');\r\n                    alert(\"Файл не является фото или видео\")\r\n            }\r\n        }\r\n    }\r\n\r\n    const closeViewer = () => {\r\n        setCurrentFile(\"\")\r\n        setFileType(\"\");\r\n        setIsImageOpen(false);\r\n        setIsVideoOpen(false);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {isImageOpen && <ImageViewer\r\n                src={[currentFile]}\r\n                disableScroll={false}\r\n                backgroundStyle={{\r\n                    backgroundColor: \"rgba(0,0,0,0.8)\"\r\n                }}\r\n                closeOnClickOutside={true}\r\n                onClose={closeViewer}\r\n            />}\r\n            <Dialog\r\n                open={isVideoOpen}\r\n                onClose={closeViewer}\r\n                fullWidth={true}\r\n            >\r\n                <video height=\"360px\" controls>\r\n                    <source src={currentFile} type={fileType}/>\r\n                    Your browser does not support the video tag.\r\n                </video>\r\n            </Dialog>\r\n\r\n            <label className={\"form-label\"}>{schema?.title}</label>\r\n            <br/>\r\n            <input disabled={disabled} required={isInputRequired} multiple={multipleSelect} type=\"file\"\r\n                   onChange={handleChange}/>\r\n\r\n            {Object.keys(uploadedFiles).map((filename, i) =>\r\n                <div key={filename}>\r\n                    <div style={{display: \"flex\", alignItems: \"baseline\"}}>\r\n                        <p>{filename}</p>\r\n                        {uploadedFiles[filename].status === 'complete' &&\r\n                        <div style={{display: \"flex\", alignItems: \"baseline\"}}>\r\n                            <button\r\n                                onClick={() => handleFileClick(filename)}\r\n                                style={{fontSize: \"14px\", padding: 0, margin: \"0 10px\"}}\r\n                                type=\"button\"\r\n                                className=\"btn btn-link text-success\"\r\n                            >\r\n                                посмотреть файл\r\n                            </button>\r\n                            {!disabled &&\r\n                            <button\r\n                                onClick={() => deleteFile(filename)}\r\n                                style={{fontSize: \"14px\", padding: 0, margin: \"0 10px\"}}\r\n                                type=\"button\"\r\n                                className=\"btn btn-link text-danger\"\r\n                            >\r\n                                удалить\r\n                            </button>}\r\n                        </div>\r\n                        }\r\n                    </div>\r\n                    {uploadedFiles[filename].status === 'loading' &&\r\n                    <LinearProgressWithLabel value={uploadedFiles[filename].progress}/>}\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CustomFileWidget","import React, {useEffect, useState} from \"react\";\r\nimport firebase from \"./Firebase\";\r\n\r\nexport const AuthContext = React.createContext();\r\n\r\nexport const AuthProvider = ({children}) => {\r\n    const [currentUser, setCurrentUser] = useState(null);\r\n\r\n    useEffect(() => {\r\n        firebase.auth().onAuthStateChanged((user) => {\r\n            if (user) {\r\n                setCurrentUser(user)\r\n                user.getIdToken(true).then((idToken) => {\r\n                    localStorage.setItem(\"token\", idToken);\r\n                })\r\n            }\r\n        });\r\n        firebase.auth().onIdTokenChanged(user => {\r\n            if (user) {\r\n                user.getIdToken(false).then((idToken) => {\r\n                    localStorage.setItem(\"token\", idToken);\r\n                })\r\n            }\r\n        })\r\n    }, []);\r\n\r\n\r\n    return (\r\n        <AuthContext.Provider\r\n            value={{\r\n                currentUser\r\n            }}\r\n        >\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n};\r\n","import {Editor} from \"@tinymce/tinymce-react\";\r\nimport React from \"react\";\r\n\r\n\r\nconst TextViewer = (props: {data: string}) => {\r\n    const {data} = props;\r\n\r\n    return (\r\n        <Editor\r\n            id={\"ViewerTinyMCE\"}\r\n            value={data}\r\n            inline={false}\r\n            disabled={true}\r\n            tinymceScriptSrc={process.env.PUBLIC_URL + '/tinymce/tinymce.min.js'}\r\n            init={{\r\n                plugins: 'autoresize',\r\n                toolbar: false,\r\n                menubar: false,\r\n                image_advtab: true,\r\n                importcss_append: true,\r\n            }}\r\n        />\r\n    )\r\n}\r\n\r\nexport default TextViewer","import axios from \"./Axios\";\r\nimport {campaignsUrl, taskstagesUrl, tasksUrl} from \"../config/Urls\";\r\n\r\nexport const IS_PAGINATION_ON = false\r\n\r\nexport const paginatedDataHandler = (\r\n    data: any,\r\n    setDataFunction: (res: any) => void,\r\n    setCountFunction: (count: number) => void,\r\n) => {\r\n    const {results, count} = data;\r\n    const numOfPages = Math.ceil(count / 10)\r\n    console.log(\"numOfPages\", numOfPages)\r\n    console.log(\"results\", results)\r\n    setDataFunction(results)\r\n    setCountFunction(numOfPages)\r\n}\r\n\r\n// Campaigns Functions\r\nexport const getCampaigns = () => {\r\n    return axios.get(campaignsUrl)\r\n        .then(res => res.data)\r\n        .then(res => {\r\n            console.log(res)\r\n            return IS_PAGINATION_ON ? res.results : res\r\n        })\r\n}\r\n\r\nexport const getUserCampaigns = () => {\r\n    return axios.get(campaignsUrl + 'list_user_campaigns/')\r\n        .then(res => res.data)\r\n        .then(res => {\r\n            console.log(\"user_campaigns\", res)\r\n            return IS_PAGINATION_ON ? res.results : res\r\n        })\r\n}\r\n\r\nexport const getSelectableCampaigns = () => {\r\n    return axios.get(campaignsUrl + 'list_user_selectable/')\r\n        .then(res => res.data)\r\n        .then(res => {\r\n            console.log(\"selectable_campaigns\", res)\r\n            return IS_PAGINATION_ON ? res.results : res\r\n        })\r\n}\r\n\r\nexport const requestCampaignJoin = (id: string | number) => {\r\n    return axios.post(campaignsUrl + id + '/join_campaign/')\r\n}\r\n\r\nexport const requestCampaignInfo = (id: string | number) => {\r\n    return axios.get(campaignsUrl + id + '/')\r\n        .then(res => res.data)\r\n}\r\n\r\n\r\n// TaskCard Functions\r\nexport const requestTaskCreation = (id: string | number) => {\r\n    return axios.post(taskstagesUrl + id + '/create_task/')\r\n        .then(res => res.data)\r\n}\r\n\r\nexport const requestTaskAssignment = (id: string | number) => {\r\n    return axios.post(tasksUrl + id + '/request_assignment/')\r\n}\r\n\r\n\r\n// TaskMenu Functions\r\nexport const getSelectableTasks = (campaignId: string | number, page?: number) => {\r\n    console.log(page)\r\n    if (page && page > 0) {\r\n        return axios.get(`${tasksUrl}user_selectable/?stage__chain__campaign=${campaignId}&limit=10&offset=${(page - 1) * 10}`)\r\n            .then(res => res.data)\r\n    }\r\n    return axios.get(`${tasksUrl}user_selectable/?stage__chain__campaign=${campaignId}`)\r\n        .then(res => res.data)\r\n        .then(res => {\r\n            console.log(\"getSelectableTasks\", res)\r\n            return res\r\n        })\r\n};\r\n\r\nexport const getCompleteTasks = (campaignId: string | number) => {\r\n    return axios.get(`${tasksUrl}user_relevant/?complete=${true}&stage__chain__campaign=${campaignId}`)\r\n        .then(res => res.data)\r\n        .then(res => {\r\n            console.log(\"getCompleteTasks\", res)\r\n            return (res)\r\n        })\r\n};\r\n\r\nexport const getOpenTasks = (campaignId: string | number) => {\r\n    return axios.get(`${tasksUrl}user_relevant/?complete=${false}&stage__chain__campaign=${campaignId}`)\r\n        .then(res => res.data)\r\n        .then(res => {\r\n            console.log(\"getOpenTasks\", res)\r\n            return (res)\r\n        })\r\n};\r\n\r\nexport const getCreatableTasks = (campaignId: string | number) => {\r\n    return axios.get(`${taskstagesUrl}user_relevant/?chain__campaign=${campaignId}`)\r\n        .then(res => res.data)\r\n};\r\n\r\n\r\n// Task Functions\r\nexport const getPreviousTasks = (id: string | number) => {\r\n    return axios.get(`${tasksUrl + id}/list_displayed_previous/`)\r\n        .then(res => res.data)\r\n}","import React, {useEffect, useState} from \"react\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport {WidgetProps} from \"@rjsf/core\";\r\nimport axios from \"axios\";\r\n\r\nconst AutoCompleteWidget = (props: WidgetProps) => {\r\n    const {\r\n        id,\r\n        placeholder,\r\n        required,\r\n        readonly,\r\n        disabled,\r\n        label,\r\n        value,\r\n        onChange,\r\n        onBlur,\r\n        onFocus,\r\n        autofocus,\r\n        options,\r\n        schema,\r\n        rawErrors = []\r\n    } = props;\r\n    console.log(\"options\",options)\r\n    const searchField = options.searchField ?? 'search'\r\n    const responseField = options.responseField ?? 'text'\r\n    const params = options?.params ?? ''\r\n\r\n    const [examples, setExamples] = useState<string[]>([])\r\n\r\n    const updateExamples = () => {\r\n        if (options.webhook) {\r\n            const url = `${options.webhook}?${searchField}=${value + params}`\r\n            axios.get(url).then(res => res.data).then(res => setExamples(res))\r\n        }\r\n    }\r\n\r\n    const _onChange = ({\r\n                           target: {value},\r\n                       }: React.ChangeEvent<HTMLInputElement>) => {\r\n        updateExamples()\r\n        return onChange(value === \"\" ? options.emptyValue : value)\r\n    };\r\n    const _onBlur = ({target: {value}}: React.FocusEvent<HTMLInputElement>) =>\r\n        onBlur(id, value);\r\n    const _onFocus = ({\r\n                          target: {value},\r\n                      }: React.FocusEvent<HTMLInputElement>) => onFocus(id, value);\r\n    const inputType = (schema.type) === 'string' ? 'text' : `${schema.type}`\r\n\r\n    return (\r\n        <Form.Group className=\"mb-0\">\r\n            <Form.Label className={rawErrors.length > 0 ? \"text-danger\" : \"\"}>\r\n                {label || schema.title}\r\n                {(label || schema.title) && required ? \"*\" : null}\r\n            </Form.Label>\r\n            <Form.Control\r\n                id={id}\r\n                placeholder={placeholder}\r\n                autoFocus={autofocus}\r\n                required={required}\r\n                disabled={disabled}\r\n                readOnly={readonly}\r\n                className={rawErrors.length > 0 ? \"is-invalid\" : \"\"}\r\n                list={`examples_${id}`}\r\n                type={inputType}\r\n                value={value || value === 0 ? value : \"\"}\r\n                onChange={_onChange}\r\n                onBlur={_onBlur}\r\n                onFocus={_onFocus}\r\n            />\r\n            {examples ? (\r\n                <datalist id={`examples_${id}`}>\r\n                    {(examples as string[])\r\n                        .map((example: any) => {\r\n                            return <option key={example[responseField as string]} value={example[responseField as string]}/>;\r\n                        })}\r\n                </datalist>\r\n            ) : null}\r\n        </Form.Group>\r\n    );\r\n};\r\n\r\nexport default AutoCompleteWidget;","import React from \"react\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\n\r\nimport { WidgetProps } from \"@rjsf/core\";\r\n\r\nconst RadioWidget = ({\r\n  id,\r\n  schema,\r\n  options,\r\n  value,\r\n  required,\r\n  disabled,\r\n  readonly,\r\n  label,\r\n  onChange,\r\n  onBlur,\r\n  onFocus,\r\n}: WidgetProps) => {\r\n  const { enumOptions, enumDisabled } = options;\r\n\r\n  const _onChange = ({\r\n    target: { value },\r\n  }: React.ChangeEvent<HTMLInputElement>) =>\r\n    onChange(schema.type == \"boolean\" ? value !== \"false\" : value);\r\n  const _onBlur = ({ target: { value } }: React.FocusEvent<HTMLInputElement>) =>\r\n    onBlur(id, value);\r\n  const _onFocus = ({\r\n    target: { value },\r\n  }: React.FocusEvent<HTMLInputElement>) => onFocus(id, value);\r\n\r\n  const inline = Boolean(options && options.inline);\r\n\r\n  return (\r\n    <Form.Group className=\"mb-0\">\r\n      <Form.Label className=\"d-block\">\r\n        {label || schema.title}\r\n        {(label || schema.title) && required ? \"*\" : null}\r\n      </Form.Label>\r\n      {(enumOptions as any).map((option: any, i: number) => {\r\n        const itemDisabled =\r\n          Array.isArray(enumDisabled) &&\r\n          enumDisabled.indexOf(option.value) !== -1;\r\n        const checked = option.value == value;\r\n\r\n        const radio = (\r\n          <Form.Check\r\n            inline={inline}\r\n            label={option.label}\r\n            id={`${id}_${option.label}`}\r\n            key={i}\r\n            name={id}\r\n            type=\"radio\"\r\n            disabled={disabled || itemDisabled || readonly}\r\n            checked={checked}\r\n            required={required}\r\n            value={option.value}\r\n            onChange={_onChange}\r\n            onBlur={_onBlur}\r\n            onFocus={_onFocus}\r\n          />\r\n        );\r\n        return radio;\r\n      })}\r\n    </Form.Group>\r\n  );\r\n};\r\n\r\nexport default RadioWidget;","import React, {useContext, useEffect, useState} from \"react\";\r\nimport Form from \"@rjsf/bootstrap-4\";\r\nimport {useHistory, useParams} from \"react-router-dom\";\r\nimport axios from \"../../util/Axios\";\r\nimport {tasksUrl} from '../../config/Urls'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport CustomFileWidget from \"../custom-widgets/file-widget/CustomFileWidget\";\r\nimport {Button} from \"react-bootstrap\";\r\nimport {Box, CircularProgress, Grid} from \"@mui/material\";\r\nimport {AuthContext} from \"../../util/Auth\";\r\nimport TextViewer from \"../text-editor/TextViewer\";\r\nimport {getPreviousTasks} from \"../../util/Util\";\r\nimport AutoCompleteWidget from \"../custom-widgets/autocomplete/AutoCompleteWidget\";\r\nimport FixedRadioWidget from \"../custom-widgets/fixed-radio-widget/FixedRadioWidget\";\r\n\r\ntype RouterParams = { id: string, campaignId: string }\r\ntype dataForStoragePathParams = { campaignId: number, chainId: number, stageId: number, userId: string, taskId: number }\r\n\r\nconst Task = (props: {id?: string}) => {\r\n    let {id, campaignId} = useParams<RouterParams>();\r\n    if (!id && props.id) {\r\n        id = props.id\r\n    }\r\n    const history = useHistory()\r\n    const {currentUser} = useContext(AuthContext)\r\n    const path = `/campaign/${campaignId}/tasks`\r\n\r\n    const [schema, setSchema] = useState({})\r\n    const [uiSchema, setUiSchema] = useState({})\r\n    const [formResponses, setFormResponses] = useState<any>({})\r\n    const [complete, setComplete] = useState(false)\r\n    const [prevTasks, setPrevTasks] = useState<any>([])\r\n    const [dataForStoragePath, setDataForStoragePath] = useState<dataForStoragePathParams | {}>({})\r\n    const [editorData, setEditorData] = useState(\"\")\r\n    const [loader, setLoader] = useState(false)\r\n    const [ready, setReady] = useState(false)\r\n\r\n    const widgets = {\r\n        customfile: CustomFileWidget,\r\n        autocomplete: AutoCompleteWidget,\r\n        RadioWidget: FixedRadioWidget\r\n    };\r\n\r\n    useEffect(() => {\r\n        const getTask = () => {\r\n            return axios.get(tasksUrl + id + '/').then((res: any) => res.data)\r\n        }\r\n        const setData = async () => {\r\n            let task = await getTask()\r\n            let stage = task.stage\r\n\r\n            if (stage && stage.rich_text) {\r\n                setEditorData(stage.rich_text)\r\n            }\r\n\r\n            setDataForStoragePath({\r\n                campaignId: campaignId.toString(),\r\n                chainId: stage.chain.id.toString(),\r\n                stageId: stage.id.toString(),\r\n                userId: currentUser.uid,\r\n                taskId: task.id.toString()\r\n            })\r\n\r\n            let parsed_schema = stage.json_schema ? JSON.parse(stage.json_schema) : {}\r\n            let parsed_ui = stage.ui_schema ? JSON.parse(stage.ui_schema) : {}\r\n\r\n            const previousTasks = await getPreviousTasks(id).then(res => res.map((task: any) => ({\r\n                responses: task.responses,\r\n                json_schema: JSON.parse(task.stage.json_schema),\r\n                ui_schema: JSON.parse(task.stage.ui_schema)\r\n            })))\r\n\r\n            setPrevTasks(previousTasks)\r\n            setFormResponses(task.responses)\r\n            setSchema(parsed_schema)\r\n            setUiSchema(parsed_ui)\r\n            setComplete(task.complete)\r\n            setReady(true)\r\n        }\r\n        if (id && currentUser) {\r\n            setData()\r\n        }\r\n    }, [id, currentUser])\r\n\r\n    const handleSubmit = () => {\r\n        setLoader(true)\r\n        let data = {responses: formResponses, complete: true}\r\n        axios.patch(tasksUrl + id + '/', data)\r\n            .then(() => setLoader(false))\r\n            .then(() => history.push(path))\r\n    }\r\n\r\n    const handleRelease = () => {\r\n        axios.post(tasksUrl + id + '/release_assignment/')\r\n            .then(() => alert(\"Released\"))\r\n            .then(() => history.push(path))\r\n    }\r\n\r\n    const handleChange = (e: any) => {\r\n        setFormResponses(e.formData)\r\n        let data = {responses: e.formData}\r\n        axios.patch(tasksUrl + id + '/', data)\r\n    }\r\n\r\n    return (\r\n        <div style={{width: '70%', minWidth: '400px', margin: '0 auto', display: 'block', padding: 10}}>\r\n            {editorData !== \"\" && <div style={{paddingBottom: 20}}>\r\n                <TextViewer data={editorData}/>\r\n            </div>}\r\n\r\n            {prevTasks.length > 0 &&\r\n            <Grid>\r\n                {prevTasks.map((task: any, i: number) =>\r\n                    <Form\r\n                        key={`prev_task_${i}`}\r\n                        schema={task.json_schema ?? {}}\r\n                        uiSchema={task.ui_schema ?? {}}\r\n                        formData={task.responses ?? {}}\r\n                        widgets={widgets}\r\n                        disabled={true}\r\n                        children={\" \"}\r\n                    />\r\n                )}\r\n            </Grid>\r\n            }\r\n            <Grid>\r\n                <Form\r\n                    schema={schema}\r\n                    uiSchema={uiSchema}\r\n                    formData={formResponses}\r\n                    formContext={dataForStoragePath}\r\n                    liveOmit={true}\r\n                    omitExtraData={true}\r\n                    widgets={widgets}\r\n                    disabled={complete}\r\n                    onChange={handleChange}\r\n                    onSubmit={handleSubmit}\r\n                >\r\n                    <Box display={\"flex\"}>\r\n                        <Button type=\"submit\" disabled={complete || loader || !ready}>Submit</Button>\r\n                        {loader && <Box paddingLeft={2}><CircularProgress/></Box>}\r\n                    </Box>\r\n                    {/*<Button variant=\"danger\" disabled={complete} style={{marginLeft: 7}} onClick={handleRelease}>Release</Button>*/}\r\n                </Form>\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Task\r\n","const projectName = \"GigaTurnip Tasks\"\r\n\r\n\r\nexport {projectName}","import * as React from 'react';\r\nimport {styled, useTheme, Theme, CSSObject} from '@mui/material/styles';\r\nimport Box from '@mui/material/Box';\r\nimport MuiDrawer from '@mui/material/Drawer';\r\nimport MuiAppBar, {AppBarProps as MuiAppBarProps} from '@mui/material/AppBar';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport List from '@mui/material/List';\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport Typography from '@mui/material/Typography';\r\nimport Divider from '@mui/material/Divider';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\r\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemIcon from '@mui/material/ListItemIcon';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport InboxIcon from '@mui/icons-material/MoveToInbox';\r\nimport MailIcon from '@mui/icons-material/Mail';\r\nimport {projectName} from \"../../config/Config\";\r\nimport {signInWithGoogle, signOut} from \"../../util/Firebase\";\r\nimport {useHistory, useParams} from \"react-router-dom\";\r\nimport {useContext, useEffect, useState} from \"react\";\r\nimport {AuthContext} from \"../../util/Auth\";\r\nimport {getUserCampaigns} from \"../../util/Util\";\r\nimport {Button} from \"@mui/material\";\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst openedMixin = (theme: Theme): CSSObject => ({\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create('width', {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    overflowX: 'hidden',\r\n});\r\n\r\nconst closedMixin = (theme: Theme): CSSObject => ({\r\n    transition: theme.transitions.create('width', {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    overflowX: 'hidden',\r\n    width: `calc(${theme.spacing(7)} + 1px)`,\r\n    [theme.breakpoints.up('sm')]: {\r\n        width: `calc(${theme.spacing(9)} + 1px)`,\r\n    },\r\n});\r\n\r\nconst DrawerHeader = styled('div')(({theme}) => ({\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    padding: theme.spacing(0, 1),\r\n    // necessary for content to be below app bar\r\n    ...theme.mixins.toolbar,\r\n}));\r\n\r\ninterface AppBarProps extends MuiAppBarProps {\r\n    open?: boolean;\r\n}\r\n\r\nconst AppBar = styled(MuiAppBar, {\r\n    shouldForwardProp: (prop) => prop !== 'open',\r\n})<AppBarProps>(({theme, open}) => ({\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    ...(open && {\r\n        marginLeft: drawerWidth,\r\n        width: `calc(100% - ${drawerWidth}px)`,\r\n        transition: theme.transitions.create(['width', 'margin'], {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.enteringScreen,\r\n        }),\r\n    }),\r\n}));\r\n\r\nconst Drawer = styled(MuiDrawer, {shouldForwardProp: (prop) => prop !== 'open'})(\r\n    ({theme, open}) => ({\r\n        width: drawerWidth,\r\n        flexShrink: 0,\r\n        whiteSpace: 'nowrap',\r\n        boxSizing: 'border-box',\r\n        ...(open && {\r\n            ...openedMixin(theme),\r\n            '& .MuiDrawer-paper': openedMixin(theme),\r\n        }),\r\n        ...(!open && {\r\n            ...closedMixin(theme),\r\n            '& .MuiDrawer-paper': closedMixin(theme),\r\n        }),\r\n    }),\r\n);\r\n\r\ntype AppbarProps = { children: React.ReactNode }\r\n\r\nexport default (props: AppbarProps) => {\r\n    const theme = useTheme();\r\n    const history = useHistory();\r\n    const {campaignId} = useParams<{ campaignId: string }>();\r\n    const {currentUser} = useContext(AuthContext)\r\n    const {children} = props;\r\n\r\n    const [open, setOpen] = useState(false);\r\n\r\n    const handleDrawerOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleDrawerClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const redirectToMain = () => {\r\n        history.push('/')\r\n    }\r\n\r\n    return (\r\n        <Box sx={{display: 'flex'}}>\r\n            <CssBaseline/>\r\n            <AppBar position=\"fixed\" open={open}>\r\n                <Toolbar>\r\n                    {/*<IconButton*/}\r\n                    {/*    color=\"inherit\"*/}\r\n                    {/*    aria-label=\"open drawer\"*/}\r\n                    {/*    onClick={handleDrawerOpen}*/}\r\n                    {/*    edge=\"start\"*/}\r\n                    {/*    sx={{*/}\r\n                    {/*        marginRight: '36px',*/}\r\n                    {/*        ...(open && {display: 'none'}),*/}\r\n                    {/*    }}*/}\r\n                    {/*>*/}\r\n                    {/*    <MenuIcon/>*/}\r\n                    {/*</IconButton>*/}\r\n                    <Typography variant=\"h6\" noWrap component=\"div\" sx={{cursor: \"pointer\", flexGrow: 1 }}\r\n                                onClick={redirectToMain}>\r\n                        {projectName}\r\n                    </Typography>\r\n                    <Typography>{currentUser?.email}</Typography>\r\n                    {currentUser ?\r\n                        <Button onClick={signOut} color={\"inherit\"}>\r\n                            Выйти\r\n                        </Button>\r\n                        :\r\n                        <Button onClick={signInWithGoogle} color={\"inherit\"}>\r\n                            Войти\r\n                        </Button>\r\n                    }\r\n                </Toolbar>\r\n            </AppBar>\r\n            {/*<Drawer variant=\"permanent\" open={open}>*/}\r\n            {/*    <DrawerHeader>*/}\r\n            {/*        <IconButton onClick={handleDrawerClose}>*/}\r\n            {/*            {theme.direction === 'rtl' ? <ChevronRightIcon/> : <ChevronLeftIcon/>}*/}\r\n            {/*        </IconButton>*/}\r\n            {/*    </DrawerHeader>*/}\r\n            {/*    <Divider/>*/}\r\n            {/*</Drawer>*/}\r\n            <Box component=\"main\" sx={{flexGrow: 1, p: 0}}>\r\n                <DrawerHeader/>\r\n                {children}\r\n            </Box>\r\n        </Box>\r\n    );\r\n}\r\n","import React, {useContext} from 'react';\r\nimport {AppBar, Box, Button, Toolbar, Typography} from \"@mui/material\";\r\nimport {signInWithGoogle, signOut} from '../../util/Firebase';\r\nimport {AuthContext} from \"../../util/Auth\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {projectName} from \"../../config/Config\";\r\nimport {styled} from \"@mui/material/styles\";\r\n\r\n\r\nconst DrawerHeader = styled('div')(({theme}) => ({\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    padding: theme.spacing(0, 1),\r\n    // necessary for content to be below app bar\r\n    ...theme.mixins.toolbar,\r\n}));\r\n\r\ntype AppbarProps = { children: React.ReactNode }\r\n\r\nexport default (props: AppbarProps) => {\r\n    const {children} = props;\r\n    const {currentUser} = useContext(AuthContext)\r\n    const history = useHistory();\r\n\r\n    return (\r\n        <Box sx={{flexGrow: 1}}>\r\n            <AppBar position=\"static\">\r\n                <Toolbar>\r\n                    <Typography variant=\"h6\" noWrap component=\"div\" sx={{flexGrow: 1}}>\r\n                        {projectName}\r\n                    </Typography>\r\n                    <Typography>{currentUser?.email}</Typography>\r\n                    {currentUser ?\r\n                        <Button onClick={signOut} color={\"inherit\"}>\r\n                            Выйти\r\n                        </Button>\r\n                        :\r\n                        <Button onClick={signInWithGoogle} color={\"inherit\"}>\r\n                            Войти\r\n                        </Button>\r\n                    }\r\n                </Toolbar>\r\n            </AppBar>\r\n            <Box component=\"main\" sx={{flexGrow: 1, p: 3}}>\r\n                <DrawerHeader/>\r\n                {children}\r\n            </Box>\r\n        </Box>\r\n    );\r\n}","import React from 'react';\r\nimport {CardParams} from \"../../util/Types\";\r\nimport Card from '@mui/material/Card';\r\nimport CardActions from '@mui/material/CardActions';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport Button from '@mui/material/Button';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nconst ParentCard = (props: CardParams) => {\r\n    const {id, name, description, campaign} = props.data;\r\n    const {onCardButtonClick, openCampaignInfo, selectable} = props;\r\n\r\n    const handleOpen = () => {\r\n        onCardButtonClick(id)\r\n    }\r\n\r\n    const redirectToInfoPage = () => {\r\n        if (openCampaignInfo) {\r\n            openCampaignInfo(id)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Card sx={{ width: 300 }}>\r\n            <CardContent>\r\n                <Typography variant=\"h5\" component=\"h2\" gutterBottom={true}>\r\n                    {name}\r\n                </Typography>\r\n                <Typography variant=\"subtitle2\" color=\"textSecondary\">\r\n                    ID: {id} {campaign && `Campaign: ${campaign}`}\r\n                </Typography>\r\n                <Typography variant=\"body1\" component=\"p\">\r\n                    {description ? description : <br/>}\r\n                </Typography>\r\n            </CardContent>\r\n            <CardActions>\r\n                {selectable ?\r\n                    <Button size=\"small\" onClick={redirectToInfoPage}>Подробнее</Button>\r\n                    :\r\n                    <Button size=\"small\" onClick={handleOpen}>Открыть</Button>\r\n                }\r\n            </CardActions>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default ParentCard","import React, {useEffect, useState} from \"react\";\r\nimport {Grid, Typography} from \"@mui/material\";\r\nimport Card from \"./CampaignCard\";\r\nimport {CampaignParams} from \"../../util/Types\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {getSelectableCampaigns, getUserCampaigns} from \"../../util/Util\";\r\n\r\n\r\nconst Builder = () => {\r\n    const [userCampaigns, setUserCampaigns] = useState<CampaignParams[]>([])\r\n    const [selectableCampaigns, setSelectableCampaigns] = useState<CampaignParams[]>([])\r\n    const history = useHistory()\r\n\r\n    useEffect(() => {\r\n        getUserCampaigns().then(res => setUserCampaigns(res))\r\n        getSelectableCampaigns().then(res => setSelectableCampaigns(res))\r\n\r\n    }, [])\r\n\r\n    const openCampaignInfo = (id: string | number) => {\r\n        history.push(`/campaign/about/${id}`)\r\n    }\r\n\r\n    const handleCardRedirect = (id: string | number) => {\r\n        history.push(`/campaign/${id}/tasks`)\r\n    }\r\n\r\n    return (\r\n        <Grid>\r\n            {userCampaigns && userCampaigns.length > 0 && <Grid>\r\n                <Typography align={\"center\"} variant={\"h4\"}>Мои кампании</Typography>\r\n                <Grid container justifyContent={\"center\"}>\r\n                    {userCampaigns.map(campaign => (\r\n                        <Grid item key={campaign.id} style={{padding: 10}}>\r\n                            <Card data={campaign}\r\n                                  onCardButtonClick={handleCardRedirect}\r\n                                  openCampaignInfo={openCampaignInfo}\r\n                                  selectable={false}\r\n                            />\r\n                        </Grid>\r\n                    ))}\r\n                </Grid>\r\n            </Grid>}\r\n\r\n            {selectableCampaigns && selectableCampaigns.length > 0 && <Grid>\r\n                <Typography align={\"center\"} variant={\"h4\"}>Доступные кампании</Typography>\r\n                <Grid container justifyContent={\"center\"}>\r\n                    {selectableCampaigns.map(campaign => (\r\n                        <Grid item key={campaign.id} style={{padding: 10}}>\r\n                            <Card data={campaign}\r\n                                  onCardButtonClick={handleCardRedirect}\r\n                                  openCampaignInfo={openCampaignInfo}\r\n                                  selectable={true}\r\n                            />\r\n                        </Grid>\r\n                    ))}\r\n                </Grid>\r\n            </Grid>}\r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default Builder\r\n\r\n\r\n","import React from \"react\";\r\nimport {Box} from \"@mui/material\";\r\n\r\ninterface TabPanelProps {\r\n    children?: React.ReactNode;\r\n    index: any;\r\n    value: any;\r\n}\r\n\r\nconst TabPanel = (props: TabPanelProps) => {\r\n    const {children, value, index, ...other} = props;\r\n\r\n    return (\r\n        <div\r\n            role=\"tabpanel\"\r\n            hidden={value !== index}\r\n            id={`simple-tabpanel-${index}`}\r\n            aria-labelledby={`simple-tab-${index}`}\r\n            {...other}\r\n        >\r\n            {value === index && (\r\n                <Box>\r\n                    {children}\r\n                </Box>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TabPanel","import React from 'react';\r\nimport {Box, Grid, Tab, Tabs} from \"@mui/material\";\r\n\r\nfunction a11yProps(index: any) {\r\n    return {\r\n        id: `simple-tab-${index}`,\r\n        'aria-controls': `simple-tabpanel-${index}`,\r\n    };\r\n}\r\n\r\ntype SimpleTabsProps = {\r\n    value: number | string,\r\n    handleChange: (event: any, newValue: number) => void,\r\n    showSelectable: boolean,\r\n    children: any\r\n}\r\n\r\nconst SimpleTabs = (props: SimpleTabsProps) => {\r\n    const {value, handleChange} = props;\r\n\r\n    return (\r\n        <Box sx={{width: '100%', bgcolor: 'background.paper'}}>\r\n            <Tabs value={value} onChange={handleChange} centered variant={\"fullWidth\"}>\r\n                <Tab label=\"Невыполненные\" {...a11yProps(0)} />\r\n                <Tab label=\"Выполненные\" {...a11yProps(1)} />\r\n                {props.showSelectable && <Tab label=\"Доступные\" {...a11yProps(2)} />}\r\n            </Tabs>\r\n            {props.children}\r\n        </Box>\r\n    );\r\n}\r\n\r\nexport default SimpleTabs\r\n","import React from 'react';\r\nimport Card from '@mui/material/Card';\r\nimport CardActions from '@mui/material/CardActions';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport Button from '@mui/material/Button';\r\nimport Typography from '@mui/material/Typography';\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {requestTaskAssignment, requestTaskCreation} from \"../../util/Util\";\r\nimport {CardProps} from \"../../util/Types\";\r\n\r\nconst TaskCard = (props: CardProps) => {\r\n    const {id, complete, name, description, creatable, selectable} = props;\r\n    const history = useHistory()\r\n\r\n    const handleOpen = () => {\r\n        history.push(`${history.location.pathname}/${id}`)\r\n    }\r\n\r\n    const handleCreate = () => {\r\n        requestTaskCreation(id)\r\n            .then(res => history.push(`${history.location.pathname}/${res.id}`))\r\n            .catch(err => alert(err))\r\n    };\r\n\r\n    const handleSelectable = () => {\r\n        requestTaskAssignment(id)\r\n            .then(res => history.push(`${history.location.pathname}/${id}`))\r\n            .catch(err => alert(err))\r\n    }\r\n\r\n    const returnButton = () => {\r\n        if (selectable) {\r\n            return <Button size=\"small\" onClick={handleSelectable}>Открыть</Button>\r\n        } else if (creatable) {\r\n            return <Button size=\"small\" onClick={handleCreate}>Создать</Button>\r\n        } else {\r\n            return <Button size=\"small\" onClick={handleOpen}>Открыть</Button>\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Card sx={{width: 300}}>\r\n            <CardContent>\r\n                <Typography variant=\"h5\" component=\"span\" gutterBottom={true}>\r\n                    {name}\r\n                </Typography>\r\n                <br/>\r\n                <Typography variant=\"subtitle2\" component=\"span\">\r\n                    {id && !creatable ? `ID: ${id}` : <br/>}\r\n                </Typography>\r\n                <br/>\r\n                <Typography variant=\"body1\" component=\"span\">\r\n                    {description ? description : <br/>}\r\n                </Typography>\r\n            </CardContent>\r\n            <CardActions>\r\n                {returnButton()}\r\n            </CardActions>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default TaskCard","import React, {useContext, useEffect, useState} from \"react\";\r\nimport Form from \"@rjsf/bootstrap-4\";\r\nimport {useHistory, useParams} from \"react-router-dom\";\r\nimport axios from \"../../util/Axios\";\r\nimport {tasksUrl} from '../../config/Urls'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport CustomFileWidget from \"../custom-widgets/file-widget/CustomFileWidget\";\r\nimport {Button} from \"react-bootstrap\";\r\nimport {Box, CircularProgress, Grid} from \"@mui/material\";\r\nimport {AuthContext} from \"../../util/Auth\";\r\nimport TextViewer from \"../text-editor/TextViewer\";\r\nimport AutoCompleteWidget from \"../custom-widgets/autocomplete/AutoCompleteWidget\";\r\nimport FixedRadioWidget from \"../custom-widgets/fixed-radio-widget/FixedRadioWidget\";\r\n\r\ntype RouterParams = { id: string, campaignId: string }\r\ntype dataForStoragePathParams = { campaignId: number, chainId: number, stageId: number, userId: string, taskId: number }\r\n\r\nconst QuickTaskContent = (props: { id: string, taskData: any, isAssigned: boolean, refreshTasks?: () => void }) => {\r\n    const {id, taskData, isAssigned, refreshTasks} = props;\r\n    let {campaignId} = useParams<RouterParams>();\r\n\r\n    const {currentUser} = useContext(AuthContext)\r\n\r\n    const [schema, setSchema] = useState({})\r\n    const [uiSchema, setUiSchema] = useState({})\r\n    const [formResponses, setFormResponses] = useState<any>({})\r\n    const [complete, setComplete] = useState(false)\r\n    const [prevTasks, setPrevTasks] = useState<any>([])\r\n    const [dataForStoragePath, setDataForStoragePath] = useState<dataForStoragePathParams | {}>({})\r\n    const [loader, setLoader] = useState(false)\r\n\r\n    const widgets = {\r\n        customfile: CustomFileWidget,\r\n        autocomplete: AutoCompleteWidget,\r\n        RadioWidget: FixedRadioWidget\r\n    };\r\n\r\n    useEffect(() => {\r\n        const setData = async () => {\r\n            const task = taskData\r\n            const stage = task.stage\r\n\r\n            setDataForStoragePath({\r\n                campaignId: campaignId.toString(),\r\n                chainId: stage.chain.id.toString(),\r\n                stageId: stage.id.toString(),\r\n                userId: currentUser.uid,\r\n                taskId: task.id.toString()\r\n            })\r\n\r\n            let parsed_schema = JSON.parse(stage.json_schema) ?? {}\r\n            let parsed_ui = JSON.parse(stage.ui_schema) ?? {}\r\n\r\n            const previousTasks = task.displayed_prev_tasks.map((task: any) => ({\r\n                responses: task.responses,\r\n                json_schema: JSON.parse(task.stage.json_schema),\r\n                ui_schema: JSON.parse(task.stage.ui_schema)\r\n            }))\r\n\r\n            setPrevTasks(previousTasks)\r\n            setFormResponses(task.responses)\r\n            setSchema(parsed_schema)\r\n            setUiSchema(parsed_ui)\r\n            setComplete(task.complete)\r\n        }\r\n        if (taskData && currentUser) {\r\n            setData()\r\n        }\r\n    }, [taskData, currentUser])\r\n\r\n    const handleSubmit = () => {\r\n        setLoader(true)\r\n        let data = {responses: formResponses, complete: true}\r\n        axios.patch(tasksUrl + id + '/', data)\r\n            .then(() => setLoader(false))\r\n            .then(() => refreshTasks && refreshTasks())\r\n            .catch(error => {\r\n                alert(error)\r\n                setLoader(false)\r\n            })\r\n    }\r\n\r\n    const handleRelease = () => {\r\n        axios.post(tasksUrl + id + '/release_assignment/')\r\n            .then(() => alert(\"Released\"))\r\n            .then(() => window.location.reload())\r\n            .catch(error => alert(error))\r\n    }\r\n\r\n    const handleChange = (e: any) => {\r\n        setFormResponses(e.formData)\r\n        let data = {responses: e.formData}\r\n        axios.patch(tasksUrl + id + '/', data)\r\n    }\r\n\r\n    return (\r\n        <Grid container>\r\n            <Grid direction='row' container spacing={1}>\r\n                {prevTasks.length > 0 &&\r\n                <Grid container item sm={6} xs={12} sx={{display: 'block'}}>\r\n                    {prevTasks.map((task: any, i: number) =>\r\n                        <Form\r\n                            key={`prev_task_${i}`}\r\n                            schema={task.json_schema ?? {}}\r\n                            uiSchema={task.ui_schema ?? {}}\r\n                            formData={task.responses ?? {}}\r\n                            widgets={widgets}\r\n                            disabled={true}\r\n                            children={\" \"}\r\n                        />\r\n                    )}\r\n                </Grid>\r\n                }\r\n                <Grid container item sm={prevTasks.length > 0 ? 6 : 12} xs={12} sx={{display: 'block'}}>\r\n                    <Form\r\n                        schema={schema ?? {}}\r\n                        uiSchema={uiSchema ?? {}}\r\n                        formData={formResponses ?? {}}\r\n                        formContext={dataForStoragePath}\r\n                        liveOmit={true}\r\n                        omitExtraData={true}\r\n                        widgets={widgets}\r\n                        disabled={complete || !isAssigned}\r\n                        onChange={handleChange}\r\n                        onSubmit={handleSubmit}\r\n                    >\r\n                        <Box display={\"flex\"}>\r\n                            <Button type=\"submit\" disabled={complete || !isAssigned}>Submit</Button>\r\n                            {loader && <Box paddingLeft={2}><CircularProgress/></Box>}\r\n                        </Box>\r\n                        {/*<Button variant=\"danger\" disabled={complete} style={{marginLeft: 7}} onClick={handleRelease}>Release</Button>*/}\r\n                    </Form>\r\n                </Grid>\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}\r\n\r\n\r\nexport default QuickTaskContent\r\n","import React, {useEffect, useState} from 'react';\r\nimport {styled} from '@mui/material/styles';\r\nimport Card from '@mui/material/Card';\r\nimport CardHeader from '@mui/material/CardHeader';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport Collapse from '@mui/material/Collapse';\r\nimport IconButton, {IconButtonProps} from '@mui/material/IconButton';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\nimport {QuickTaskProps} from \"../../util/Types\";\r\nimport QuickTaskContent from \"./QuckTaskContent\";\r\nimport {Button, Stack} from \"@mui/material\";\r\nimport {requestTaskAssignment} from \"../../util/Util\";\r\nimport DoneIcon from '@mui/icons-material/Done';\r\n\r\ninterface ExpandMoreProps extends IconButtonProps {\r\n    expand: boolean;\r\n}\r\n\r\nconst ExpandMore = styled((props: ExpandMoreProps) => {\r\n    const {expand, ...other} = props;\r\n    return <IconButton {...other} />;\r\n})(({theme, expand}) => ({\r\n    transform: !expand ? 'rotate(0deg)' : 'rotate(180deg)',\r\n    marginLeft: 'auto',\r\n    transition: theme.transitions.create('transform', {\r\n        duration: theme.transitions.duration.shortest,\r\n    }),\r\n}));\r\n\r\nconst QuickTask = (props: QuickTaskProps) => {\r\n    const {id, complete, name, description, creatable, selectable, task, expand, refreshTasks} = props;\r\n    const [expanded, setExpanded] = useState(false);\r\n    const [isAssigned, setAssigned] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setExpanded(expand)\r\n    }, [expand])\r\n\r\n    const handleExpandClick = () => {\r\n        setExpanded(!expanded);\r\n    };\r\n\r\n    const handleSelectable = () => {\r\n        requestTaskAssignment(id)\r\n            .then(res => setAssigned(true))\r\n            .catch(err => {\r\n                alert(err)\r\n                if (refreshTasks) {\r\n                    refreshTasks()\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <Card>\r\n            <CardHeader\r\n                action={\r\n                    <Stack direction=\"row\" spacing={1}>\r\n                        <Button size={\"small\"} variant={isAssigned ? \"text\" : \"outlined\"} disabled={isAssigned} sx={{borderRadius: \"5em\"}}\r\n                                onClick={handleSelectable}>\r\n                            {isAssigned ?  <DoneIcon color={\"primary\"}/> : \"Get\"}\r\n                        </Button>\r\n                        <ExpandMore\r\n                            expand={expanded}\r\n                            onClick={handleExpandClick}\r\n                            disabled={creatable}\r\n                            aria-expanded={expanded}\r\n                            aria-label=\"show more\"\r\n                        >\r\n                            <ExpandMoreIcon/>\r\n                        </ExpandMore>\r\n                    </Stack>\r\n                }\r\n                sx={{py: 1, px: 2}}\r\n                title={name}\r\n                subheader={`ID: ${id}`}\r\n                titleTypographyProps={{variant: \"h6\"}}\r\n                subheaderTypographyProps={{variant: \"caption\"}}\r\n            />\r\n            <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n                <CardContent>\r\n                    <QuickTaskContent id={id} taskData={task} isAssigned={isAssigned} refreshTasks={refreshTasks}/>\r\n                </CardContent>\r\n            </Collapse>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default QuickTask\r\n","import React, {useState} from \"react\";\r\nimport {Button, Grid} from \"@mui/material\";\r\nimport TaskCard from \"./TaskCard\";\r\nimport QuickTask from \"./QuickTask\";\r\n\r\n\r\ntype TaskListProps = {\r\n    complete?: boolean,\r\n    selectable?: boolean,\r\n    creatable?: boolean,\r\n    tasks: any[],\r\n    refreshTasks?: () => void\r\n}\r\n\r\nconst TaskList = (props: TaskListProps) => {\r\n    const {complete, selectable, tasks, creatable, refreshTasks} = props;\r\n    const [expandAll, setExpandAll] = useState(false)\r\n\r\n    const listTasks = () => {\r\n        return tasks.map((task: any) => {\r\n                if (creatable) {\r\n                    const id = task.id\r\n                    const name = task.name\r\n                    const description = task.description\r\n                    return (\r\n                        <Grid item key={task.id} sx={{p: 1}}>\r\n                            <TaskCard\r\n                                id={id}\r\n                                name={name}\r\n                                description={description}\r\n                                complete={complete}\r\n                                selectable={selectable}\r\n                                creatable={creatable}\r\n                            />\r\n                        </Grid>\r\n                    )\r\n                } else {\r\n                    const id = task.id.toString()\r\n                    const name = task.stage.name\r\n                    const description = task.stage.description\r\n                    if (selectable) {\r\n                        return (\r\n                            <Grid item key={task.id} sx={{p: 1, width: \"100%\"}}>\r\n                                <QuickTask\r\n                                    id={id}\r\n                                    name={name}\r\n                                    description={description}\r\n                                    complete={complete}\r\n                                    selectable={selectable}\r\n                                    creatable={creatable}\r\n                                    task={task}\r\n                                    expand={expandAll}\r\n                                    refreshTasks={refreshTasks}\r\n                                />\r\n                            </Grid>\r\n                        )\r\n                    } else {\r\n                        return (\r\n                            <Grid item key={task.id} style={{padding: 10}}>\r\n                                <TaskCard\r\n                                    id={id}\r\n                                    name={name}\r\n                                    description={description}\r\n                                    complete={complete}\r\n                                    selectable={selectable}\r\n                                    creatable={creatable}\r\n                                />\r\n                            </Grid>\r\n                        )\r\n                    }\r\n\r\n                }\r\n            }\r\n        )\r\n    }\r\n\r\n    const handleExpand = () => {\r\n        setExpandAll(!expandAll)\r\n    };\r\n\r\n    return (\r\n        <Grid\r\n            container\r\n            direction={creatable ? \"row\" : \"column\"}\r\n            alignItems={\"center\"}\r\n            justifyContent={creatable ? \"flex-start\" : \"center\"}\r\n        >\r\n            {selectable && <Button variant={\"contained\"} onClick={handleExpand}>\r\n                {expandAll ? \"Свернуть все\" : \"Развернуть все\"}\r\n            </Button>}\r\n            {listTasks()}\r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default TaskList","import React, {useContext, useEffect, useState} from \"react\";\r\nimport TabPanel from \"../Tabs/TabPanel\";\r\nimport SimpleTabs from \"../Tabs/Tabs\";\r\nimport TaskList from \"./TaskList\";\r\nimport {AuthContext} from \"../../util/Auth\";\r\nimport {Box, Grid, Pagination} from \"@mui/material\";\r\nimport {useParams} from \"react-router-dom\";\r\nimport {\r\n    getCompleteTasks,\r\n    getCreatableTasks,\r\n    getOpenTasks,\r\n    getSelectableTasks,\r\n    paginatedDataHandler\r\n} from \"../../util/Util\";\r\n\r\n\r\ntype RouterParams = { campaignId: string }\r\n\r\nconst TaskMenu = (props: any) => {\r\n    const {campaignId} = useParams<RouterParams>();\r\n    const {currentUser} = useContext(AuthContext)\r\n\r\n    const [tab, setTab] = useState(0);\r\n    const [selectableTasks, setSelectableTasks] = useState([])\r\n    const [completeTasks, setCompleteTasks] = useState([])\r\n    const [openTasks, setOpenTasks] = useState([])\r\n    const [creatableTasks, setCreatableTasks] = useState([])\r\n    const [totalPages, setTotalPages] = useState(0)\r\n    const [page, setPage] = React.useState(1);\r\n\r\n    const handlePageChange = (event: React.ChangeEvent<unknown>, value: number) => {\r\n        setPage(value);\r\n        if (value) {\r\n            if (tab === 0) {\r\n                getOpenTasks(campaignId).then(res => setOpenTasks(res))\r\n            } else if (tab === 1) {\r\n                getCompleteTasks(campaignId).then(res => setCompleteTasks(res))\r\n            } else if (tab === 2) {\r\n                getSelectableTasks(campaignId, value).then(res => paginatedDataHandler(res, setSelectableTasks, setTotalPages))\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleTabChange = (event: React.ChangeEvent<{}>, newValue: number) => {\r\n        setTab(newValue);\r\n    };\r\n\r\n    const refreshTasks = () => {\r\n        getSelectableTasks(campaignId).then(res => paginatedDataHandler(res, setSelectableTasks, setTotalPages))\r\n        getCompleteTasks(campaignId).then(res => setCompleteTasks(res))\r\n        getOpenTasks(campaignId).then(res => setOpenTasks(res))\r\n        getCreatableTasks(campaignId).then(res => setCreatableTasks(res))\r\n    };\r\n\r\n    useEffect(() => {\r\n        refreshTasks()\r\n    }, [campaignId]);\r\n\r\n\r\n    return (\r\n        currentUser && currentUser.uid &&\r\n        <Grid>\r\n            <TaskList creatable={true} tasks={creatableTasks}/>\r\n            <SimpleTabs value={tab} handleChange={handleTabChange} showSelectable={selectableTasks.length > 0}>\r\n                <TabPanel value={tab} index={0}>\r\n                    <TaskList complete={false} tasks={openTasks}/>\r\n                </TabPanel>\r\n                <TabPanel value={tab} index={1}>\r\n                    <TaskList complete={true} tasks={completeTasks}/>\r\n                </TabPanel>\r\n                {selectableTasks.length > 0 &&\r\n                <TabPanel value={tab} index={2}>\r\n                    <TaskList selectable={true} tasks={selectableTasks} refreshTasks={refreshTasks}/>\r\n                    <Box pb={2} display={\"flex\"} justifyContent={\"center\"}>\r\n                        <Pagination count={totalPages} page={page} onChange={handlePageChange} showFirstButton\r\n                                    showLastButton/>\r\n                    </Box>\r\n                </TabPanel>}\r\n            </SimpleTabs>\r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default TaskMenu","import React, {useEffect, useState} from \"react\";\r\nimport {useHistory, useParams} from \"react-router-dom\";\r\nimport {campaignsUrl} from \"../../config/Urls\";\r\nimport TextViewer from \"../text-editor/TextViewer\";\r\nimport {Button, Grid, Typography} from \"@mui/material\";\r\nimport {requestCampaignInfo, requestCampaignJoin} from \"../../util/Util\";\r\n\r\n\r\nconst About = () => {\r\n    const {id}: { id: string } = useParams();\r\n    const history = useHistory();\r\n\r\n    const [name, setName] = useState(\"\")\r\n    const [description, setDescription] = useState(\"\")\r\n    const [richText, setRichText] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        console.log(campaignsUrl, id)\r\n        requestCampaignInfo(id)\r\n            .then(res => {\r\n                const {richText, name, description} = res;\r\n                if (name) {\r\n                    setName(name)\r\n                }\r\n                if (description) {\r\n                    setDescription(description)\r\n                }\r\n                if (richText) {\r\n                    setRichText(richText)\r\n                }\r\n            })\r\n    }, [id])\r\n\r\n    const joinCampaign = () => {\r\n        requestCampaignJoin(id).then(() => history.push(`/campaign/${id}/tasks`))\r\n    }\r\n\r\n    return (\r\n        <div style={{width: '70%', minWidth: '400px', margin: '0 auto', display: 'block', padding: 10}}>\r\n            <Typography variant={\"h3\"} align={\"center\"}>{name}</Typography>\r\n            <Typography variant={\"h6\"} align={\"center\"}>{description}</Typography>\r\n            {richText && <TextViewer data={richText}/>}\r\n            <Grid container justifyContent={\"center\"} style={{padding: 20}}>\r\n                <Button variant={\"contained\"} color={\"primary\"} onClick={joinCampaign}>Присоединиться / Кошулуу</Button>\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default About","import React, {useContext} from \"react\";\r\nimport Task from './components/tasks/Task'\r\nimport Appbar from \"./components/appbar/Appbar\";\r\n\r\nimport {HashRouter as Router, Route, Switch} from \"react-router-dom\";\r\nimport SimpleAppbar from \"./components/appbar/SimpleAppbar\";\r\nimport Campaigns from \"./components/campaigns/Campaigns\";\r\nimport TaskMenu from \"./components/tasks/TaskMenu\";\r\nimport About from \"./components/campaigns/About\";\r\nimport {AuthContext} from \"./util/Auth\";\r\n\r\nconst App = () => {\r\n    const {currentUser} = useContext(AuthContext)\r\n    if (currentUser) {\r\n        const token = localStorage.getItem(\"token\");\r\n        currentUser.getIdToken(false).then((idToken: string) => {\r\n            if (token) {\r\n                if (idToken !== token) {\r\n                    localStorage.setItem(\"token\", idToken);\r\n                    window.location.reload()\r\n                }\r\n            } else {\r\n                localStorage.setItem(\"token\", idToken);\r\n                window.location.reload()\r\n            }\r\n        })\r\n    }\r\n    return (\r\n        <div>\r\n            <Router>\r\n                <Switch>\r\n                    <Route exact path={\"/campaign/about/:id\"}>\r\n                        <About/>\r\n                    </Route>\r\n                    <Route path={\"/campaign/:campaignId\"}>\r\n                        <Appbar>\r\n                            <Route exact path=\"/campaign/:campaignId/tasks\">\r\n                                <TaskMenu/>\r\n                            </Route>\r\n                            <Route exact path=\"/campaign/:campaignId/tasks/:id\">\r\n                                <Task/>\r\n                            </Route>\r\n                        </Appbar>\r\n                    </Route>\r\n                    <Route path=\"/\">\r\n                        <SimpleAppbar>\r\n                            <Campaigns/>\r\n                        </SimpleAppbar>\r\n                    </Route>\r\n                </Switch>\r\n            </Router>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {AuthProvider} from \"./util/Auth\";\r\n\r\nReactDOM.render(\r\n    // <React.StrictMode>\r\n    <AuthProvider>\r\n        <App/>\r\n    </AuthProvider>,\r\n    // </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}