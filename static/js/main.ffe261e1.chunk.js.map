{"version":3,"sources":["services/firebase/Firebase.js","context/toast/ToastProvider.tsx","context/toast/hooks/useToast.tsx","context/authentication/AuthProvider.tsx","context/authentication/hooks/useAuth.tsx","pages/login/RequireAuth.tsx","components/layout/appbar/Appbar.tsx","components/layout/Layout.tsx","pages/login/Login.tsx","components/card/Card.tsx","components/card/ExpandableCard.tsx","components/list/ListContent.tsx","components/list/ListHeader.tsx","components/list/List.tsx","services/api/Urls.js","services/api/useAxios.tsx","utils/hooks/UseHelpers.ts","components/form/custom-widgets/audio-widget/AudioWidget.tsx","components/form/custom-widgets/auto-complete-widget/AutoCompleteWidget.tsx","components/form/custom-widgets/file-widget/Upload.js","components/progress/LinearProgressWithLabel.tsx","components/form/custom-widgets/file-widget/CustomFileWidget.tsx","components/form/custom-widgets/link-widget/CustomLinkWidget.tsx","components/form/custom-widgets/radio-widget/FixedRadioWidget.tsx","components/form/custom-widgets/date-time-widget/CustomDateTimeWidget.tsx","components/form/custom-widgets/date-widget/CustomDateWidget.tsx","components/form/custom-widgets/select-widget/FixedSelectWidget.tsx","components/form/custom-widgets/counter-widget/Counter.tsx","components/form/custom-widgets/simple-auto-complete/SimpleAutoComplete.tsx","components/form/Form.tsx","pages/tasks/task/common-task/CommonView.tsx","pages/tasks/task/quick-task/QuickView.tsx","pages/tasks/task/quick-task/Quick.tsx","components/layout/common-layouts/BuilderLayout.tsx","pages/tasks/task/common-task/Common.tsx","pages/tasks/task/integrated-task/Integrated.tsx","components/prompt/Prompt.tsx","components/text-editor/TextViewer.tsx","components/presentation/Presentation.tsx","pages/tasks/task/Task.tsx","pages/tasks/TaskFilter.tsx","pages/notifications/Notifications.tsx","components/card/TaskCard.tsx","pages/tasks/Tasks.tsx","pages/campaigns/Campaigns.tsx","pages/campaigns/about/About.tsx","pages/notifications/NotificationContent.tsx","App.tsx","reportWebVitals.ts","services/localization/i18n.js","index.tsx"],"names":["app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","getAuth","storage","getStorage","provider","GoogleAuthProvider","setCustomParameters","prompt","ToastContext","React","createContext","Alert","forwardRef","props","ref","elevation","variant","ToastProvider","children","useState","open","setOpen","title","setTitle","setVariant","useEffect","setTimeout","closeToast","event","reason","value","openToast","JSON","stringify","String","Provider","Snackbar","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","severity","sx","width","useToast","useContext","AuthContext","AuthProvider","user","setUser","ready","setReady","userVerification","setUserVerification","useTranslation","i18n","t","onIdTokenChanged","a","lang","localStorage","getItem","changeLanguage","getToken","getIdToken","login","callback","signInWithPopup","result_1","loginWithPhone","code","confirm","console","log","requestOTP","phone","appVerifier","signInWithPhoneNumber","confirmationResult","logout","signOut","useAuth","RequireAuth","location","useLocation","to","state","from","search","CircularProgress","drawerWidth","openedMixin","theme","transition","transitions","create","easing","sharp","duration","enteringScreen","overflowX","closedMixin","leavingScreen","spacing","breakpoints","down","DrawerHeader","styled","display","alignItems","justifyContent","padding","mixins","toolbar","StyledAppBar","MuiAppBar","shouldForwardProp","prop","zIndex","drawer","marginLeft","Drawer","MuiDrawer","flexShrink","whiteSpace","boxSizing","Appbar","useTheme","campaignId","useParams","useNavigate","DrawerItems","page","icon","Box","CssBaseline","position","Toolbar","IconButton","color","onClick","edge","marginRight","flexGrow","component","Link","underline","noWrap","boxShadow","Typography","email","Button","language","setItem","direction","Divider","map","item","index","ListItem","ListItemIcon","ListItemText","primary","Layout","Login","navigate","phoneNumber","setPhoneNumber","OTPCode","setOTPcode","codeIsSend","setCodeIsSend","pathname","generateRecaptcha","window","recaptchaVerifier","RecaptchaVerifier","requestSMSCode","isSend","p","maxWidth","align","py","size","fullWidth","replace","TextField","type","label","onChange","target","helperText","hidden","id","Card","data","name","description","reopened","CardContent","pb","gutterBottom","overflow","textOverflow","height","CardActions","ExpandMore","expand","other","transform","shortest","ExpandableCard","hideExpandButton","hideOpenButton","extraActions","setExpand","CardHeader","action","Grid","container","flexDirection","subheader","titleTypographyProps","subheaderTypographyProps","Collapse","in","timeout","unmountOnExit","ListContent","view","onSelect","xs","md","columns","sm","ListHeader","hideCreateButton","hideViewButton","onViewChange","flex","Tooltip","List","defaultView","setView","campaignsUrl","chainsUrl","taskstagesUrl","conditionalstagesUrl","tasksUrl","notificationsUrl","useAxios","axios","defaultAxios","baseURL","interceptors","request","use","config","then","token","headers","error","Promise","reject","createPaginationURL","getCampaigns","get","res","results","getChains","catch","err","message","createChain","post","getStageNodes","chainId","getLogicNodes","getTaskStage","saveTaskStage","patch","getTaskStageOptions","options","getConditionalStage","saveConditionalStage","getUserCampaigns","getSelectableCampaigns","requestCampaignJoin","requestCampaignInfo","requestTaskCreation","requestTaskAssignment","getCompleteTasks","getOpenTasks","getCreatableTasks","getSelectableTasks","filter","url","mode","query","getPreviousTasks","getTask","saveTask","releaseTask","openPreviousTask","getIntegratedData","triggerTaskWebhook","getUserNotifications","viewed","importance","getNotificationContent","getTaskFields","getDynamicSchema","formData","taskId","useHelpers","parseJson","text","parse","addZeroesToDate","date","parseId","parseInt","Error","parseTaskData","responses","schema","stage","json_schema","uiSchema","ui_schema","formatDateString","d","Date","year","getFullYear","month","getMonth","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","AudioWidget","required","disabled","readonly","formContext","onBlur","record","setRecord","loader","setLoader","storagePath","privateUpload","private","defaultRecord","default","readOnly","privatePath","storageRef","getDownloadURL","Indicator","div","keyframes","handleStopRecording","blobUrl","blob","ext","split","filename","fileRef","uploadBytes","snapshot","fullPath","path","useReactMediaRecorder","video","onStop","status","startRecording","stopRecording","className","marginBottom","endIcon","fill","renderButton","src","onPlay","e","TextWidget","placeholder","onFocus","autofocus","rawErrors","inputType","Group","Label","length","Control","autoFocus","list","examples","undefined","emptyValue","concat","example","returnNewState","prevState","update","multiple","upload","files","setFileBeingUploaded","setFileLinks","all","file","period","lastIndexOf","substring","uploadTask","uploadBytesResumable","progress","on","bytesTransferred","totalBytes","downloadURL","filePath","fileLink","LinearProgressWithLabel","mr","LinearProgress","minWidth","Math","round","CustomFileWidget","uploadedFiles","setUploadedFiles","fileLinks","currentFile","setCurrentFile","isImageOpen","setIsImageOpen","isVideoOpen","setIsVideoOpen","fileType","setFileType","parsedValue","setParsedValue","multipleSelect","Object","keys","parsed","forEach","handleChange","_onBlur","updateFormResponses","allFiles","deleteFile","links","uploaded","handleFileClick","getMetadata","metadata","contentType","closeViewer","disableScroll","backgroundStyle","backgroundColor","closeOnClickOutside","Dialog","controls","i","style","fontSize","margin","navigator","clipboard","writeText","copyPath","CustomLinkWidget","href","RadioWidget","enumOptions","enumDisabled","_onChange","_onFocus","inline","Boolean","option","itemDisabled","Array","isArray","indexOf","checked","Check","DateTimeWidget","localeMap","en","enLocale","ru","ruLocale","LocalizationProvider","dateAdapter","AdapterDateFns","locale","DateTimePicker","inputFormat","mask","toJSON","ignoreInvalidInputs","renderInput","params","hiddenLabel","DateWidget","DatePicker","slice","nums","Set","processValue","items","has","asNumber","enum","every","x","guessType","getValue","call","o","selected","SelectWidget","newValue","Counter","_value","toISOString","pop","pr","SimpleAutoComplete","Autocomplete","disablePortal","Form","hideButton","onSubmit","rest","widgets","customfile","FileWidget","autocomplete","AutoCompleteWidget","customlink","LinkWidget","audio","simple_autocomplete","fields","counter","CounterWidget","customFormats","onError","CommonView","complete","previousTasks","hideSubmit","onRelease","onPrevious","isUploading","stageId","allow_go_back","allow_release","chain","campaign","inactive","uid","renderPreviousTasks","tasks","task","form","omitExtraData","liveOmit","Stack","Chip","QuickView","active","onRequest","onOpen","onAction","hideOpen","cardData","requestButton","Quick","isActive","fullwidth","getData","getPreviousData","saveData","debouncedSave","handleRedirect","handlePrompt","requestTask","updateState","setData","setFormData","setComplete","setPreviousTasks","setActive","mountData","useCallback","prev","formProps","prevId","BuilderLayout","Common","getDynamicForm","forceUpdate","isDynamic","setDynamic","setUploading","debounce","setDynamicForm","taskData","_jsonData","dynamicSchema","hasOwnProperty","next_direct_id","Integrated","getIntegrated","triggerWebhook","integrations","setIntegrations","setUpdate","handleActivate","newSet","copy","splice","includes","pt","useBlocker","blocker","when","NavigationContext","unblock","block","tx","autoUnblockingTx","retry","TextViewer","tinymceScriptSrc","process","init","plugins","menubar","image_advtab","importcss_append","Presentation","urls","currentIndex","setCurrentIndex","handleNext","maxHeight","alt","px","Task","updateData","hidePrompt","parsedId","showPrompt","setShowPrompt","slides","external_metadata","response","usePrompt","releaseUserTask","openPrevious","scrollTo","taskMethods","integrator_group","mb","rich_text","OPERATORS","TYPES","TaskFilter","onFilter","setChainId","searchStageId","setSearchStageId","formStageId","setFormStageId","chains","setChains","stages","setStages","jsonSchema","setJsonSchema","setUiSchema","formResponses","setFormResponses","simpleFilterMode","setSimpleFilterMode","simpleFilterQuery","setSimpleFilterQuery","savedChain","savedFormStage","parsedStageId","savedResponses","_schema","properties","field","enumNames","returnObjects","conditions","operator","createSchema","handleFormSubmit","parsedFormStageId","parsedSearchStageId","all_conditions","search_stage","queryString","complexFilter","FormGroup","FormControl","m","InputLabel","Select","labelId","MenuItem","mx","simpleFilter","my","Switch","Notifications","onlyNew","viewedNotifications","setViewedNotifications","notViewedNotifications","setNotViewedNotifications","totalPages","setTotalPages","setPage","tab","setTab","matches","useMediaQuery","parsedCampaignId","ceil","count","openMessage","background","cursor","created_at","typography","TabContext","borderBottom","borderColor","TabList","centered","Tab","TabPanel","Pagination","showFirstButton","showLastButton","TaskCard","Tasks","openTasks","setOpenTasks","completedTasks","setCompletedTasks","creatableTasks","setCreatableTasks","selectableTasks","setSelectableTasks","filterFormData","setFilterFormData","useSearchParams","searchParams","handleOpen","getSelectable","alert","Campaigns","selectableCampaigns","setSelectableCampaigns","About","setName","setDescription","richText","setRichText","NotificationContent","App","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","i18next","initReactI18next","resources","translation","date_time_label","date_label","returned","edit","accepted","choose_files","view_file","remove_file","notifications","unread","read","submit","appbar","log_out","leave_page","returned_message","open_previous","release","saved_message","divider_text","sign_up_page","description1","description2","sign_up_button","phone_number","otp_code","request_code_button","submit_code_button","invalid_code_error","invalid_phone_number","unknown_login_with_phone_error","phone_helper_text","campaigns","user_campaigns","selectable_campaigns","join","details","list_header","grid","completed","uncompleted","available","chain_label","search_stage_label","stage_label","filter_label","field_label","type_label","types","conditions_label","value_label","value_description","operator_label","operators","search_button","lng","supportedLngs","interpolation","escapeValue","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ffe261e1.chunk.js","sourcesContent":["import {initializeApp} from 'firebase/app';\nimport {getAuth, GoogleAuthProvider} from \"firebase/auth\";\nimport {getStorage, ref, getDownloadURL} from \"firebase/storage\";\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyCXiwOUNsbzKH7sbSAZrqA9f7VOeCMdUOQ\",\n    authDomain: \"gigaturnip-b6b5b.firebaseapp.com\",\n    projectId: \"gigaturnip-b6b5b\",\n    storageBucket: \"gigaturnip-b6b5b.appspot.com\",\n    messagingSenderId: \"414429242328\",\n    appId: \"1:414429242328:web:a4685f5ac6895ea767c8ad\",\n    measurementId: \"G-Y8JTEJMTET\"\n};\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth();\nconst storage = getStorage(app);\n\nconst provider = new GoogleAuthProvider();\nprovider.setCustomParameters({\n    prompt: 'select_account'\n});\n\nexport {app, auth, provider, storage};","import React, { useEffect, useState } from \"react\";\nimport { Alert as MuiAlert, AlertProps, Snackbar } from \"@mui/material\";\n\ninterface ToastContextType {\n    open: boolean;\n    openToast: (title: string, variant?: ToastVariants) => void;\n    closeToast: (event?: React.SyntheticEvent | Event, reason?: string) => void;\n}\n\nexport type ToastVariants = \"success\" | \"error\" | \"warning\" | \"info\";\n\nexport const ToastContext = React.createContext<ToastContextType>(null!);\n\nconst Alert = React.forwardRef<HTMLDivElement, AlertProps>(function Alert(\n    props,\n    ref,\n) {\n    return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\n});\n\nconst ToastProvider = ({ children }: { children: React.ReactNode }) => {\n    const [open, setOpen] = useState(false);\n    const [title, setTitle] = useState<any>(\"\");\n    const [variant, setVariant] = useState<ToastVariants>(\"error\")\n\n    useEffect(() => {\n        if (open) {\n            setTimeout(() => {\n                setOpen(false)\n            }, 3500)\n        }\n    }, [open])\n\n    const stringify = (value: any) => {\n        switch (typeof value) {\n            case 'string':\n                return value;\n            case 'object':\n                return JSON.stringify(value);\n            default:\n                return String(value);\n        }\n    };\n\n    const openToast = (title: string, variant?: ToastVariants) => {\n        if (variant) {\n            setVariant(variant)\n        }\n        setTitle(stringify(title))\n        setOpen(true);\n    };\n\n    const closeToast = (event?: React.SyntheticEvent | Event, reason?: string) => {\n        if (reason === 'clickaway') {\n            return;\n        }\n\n        setOpen(false);\n    };\n\n    const value = { open, openToast, closeToast };\n\n    return <ToastContext.Provider value={value}>\n        <Snackbar open={open} autoHideDuration={3000} onClose={closeToast}\n            anchorOrigin={{\n                vertical: 'top',\n                horizontal: 'center',\n            }}\n        >\n            <Alert onClose={closeToast} severity={variant} sx={{ width: '100%' }}>\n                {title}\n            </Alert>\n        </Snackbar>\n        {children}\n    </ToastContext.Provider>;\n};\n\nexport default ToastProvider","import React from \"react\";\nimport {ToastContext} from \"../ToastProvider\";\n\nexport const useToast = () => React.useContext(ToastContext);","import React, { useEffect, useState } from \"react\";\nimport { auth, provider } from \"../../services/firebase/Firebase\";\nimport { signInWithPopup, getIdToken, signOut, onIdTokenChanged, RecaptchaVerifier, signInWithPhoneNumber, ConfirmationResult, ApplicationVerifier } from \"firebase/auth\";\nimport { useTranslation } from \"react-i18next\";\nimport { useToast } from \"../toast/hooks/useToast\";\n\ninterface AuthContextType {\n    user: any;\n    ready: boolean;\n    getToken: () => Promise<string>;\n    login: (callback: VoidFunction) => void;\n    logout: (callback: VoidFunction) => void;\n    loginWithPhone: (code: string, callback: VoidFunction) => void;\n    requestOTP: (phone: string, appVerifier: RecaptchaVerifier) => Promise<boolean>;\n}\n\nexport const AuthContext = React.createContext<AuthContextType>(null!);\n\nconst AuthProvider = ({ children }: { children: React.ReactNode }) => {\n    const [user, setUser] = useState<any>(null);\n    const [ready, setReady] = useState(false);\n    const [userVerification, setUserVerification] = useState<ConfirmationResult | null>(null);\n    const { i18n, t } = useTranslation();\n    const {openToast} = useToast();\n\n    useEffect(() => {\n        onIdTokenChanged(auth, async (user) => {\n            if (user) {\n                setUser(user)\n            } else {\n                setUser(null)\n            }\n            setReady(true)\n        });\n\n        const lang = localStorage.getItem('lang');\n        if (lang) {\n            i18n.changeLanguage(lang);\n        }\n    }, [])\n\n    const getToken = async () => {\n        return await getIdToken(user);\n    }\n\n    const login = async (callback: VoidFunction) => {\n        try {\n            const result_1 = await signInWithPopup(auth, provider);\n            const user = result_1.user;\n            setUser(user);\n            callback();\n        } catch (error) {\n\n        }\n    };\n\n    const loginWithPhone = async (code: string, callback: VoidFunction) => {\n        if (userVerification) {\n            try {\n                const { user } = await userVerification.confirm(code)\n                setUser(user);\n                callback();\n            } catch (error: any) {\n                console.log(error.code);\n                if (error.code === 'auth/invalid-verification-code') {\n                    openToast(t(\"sign_up_page.invalid_code_error\"), 'error')\n                } else {\n                    openToast(t(\"sign_up_page.unknown_login_with_phone_error\"), 'error')\n                }\n            }\n        }\n    }\n\n    const requestOTP = async (phone: string, appVerifier: RecaptchaVerifier): Promise<boolean> => {\n        try {\n            const confirmationResult = await signInWithPhoneNumber(auth, phone, appVerifier);\n            setUserVerification(confirmationResult);\n            return true;\n        } catch (error: any) {\n            if (error.code === 'auth/invalid-phone-number') {\n                openToast(t(\"sign_up_page.invalid_phone_number\"), 'error')\n            } else {\n                openToast(t(\"sign_up_page.unknown_login_with_phone_error\"), 'error')\n            }\n            return false;\n        }\n    }\n\n    const logout = async (callback: VoidFunction) => {\n        await signOut(auth);\n        setUser(null);\n        callback();\n    };\n\n    const value = { user, ready, getToken, login, logout, loginWithPhone, requestOTP };\n\n    return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n};\n\nexport default AuthProvider","import React from \"react\";\nimport {AuthContext} from \"../AuthProvider\";\n\nexport const useAuth = () => React.useContext(AuthContext);","import {useAuth} from \"../../context/authentication/hooks/useAuth\";\nimport {Navigate, useLocation} from \"react-router-dom\";\nimport {CircularProgress} from \"@mui/material\";\n\nconst RequireAuth = ({ children }: { children: JSX.Element }) => {\n  const auth = useAuth();\n  const location = useLocation();\n\n  if (auth.ready && !auth.user) {\n    return <Navigate to={\"login\"} state={{ from: location, search: location.search }} />;\n  }\n\n  return auth.ready ? children : <CircularProgress/>;\n};\n\nexport default RequireAuth","import React from 'react';\nimport {CSSObject, styled, Theme, useTheme} from '@mui/material/styles';\nimport Box from '@mui/material/Box';\nimport MuiDrawer from '@mui/material/Drawer';\nimport MuiLink from '@mui/material/Link';\nimport MuiAppBar, {AppBarProps as MuiAppBarProps} from '@mui/material/AppBar';\nimport Toolbar from '@mui/material/Toolbar';\nimport List from '@mui/material/List';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport Divider from '@mui/material/Divider';\nimport IconButton from '@mui/material/IconButton';\nimport MenuIcon from '@mui/icons-material/Menu';\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport ListItemText from '@mui/material/ListItemText';\nimport AssignmentIcon from '@mui/icons-material/Assignment';\nimport NotificationsIcon from '@mui/icons-material/Notifications';\nimport {Link, useNavigate, useParams} from \"react-router-dom\";\nimport {Button, Typography} from \"@mui/material\";\nimport {useAuth} from \"../../../context/authentication/hooks/useAuth\";\nimport {useTranslation} from \"react-i18next\";\n\nconst drawerWidth = 240;\n\nconst openedMixin = (theme: Theme): CSSObject => ({\n    width: drawerWidth,\n    transition: theme.transitions.create('width', {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.enteringScreen,\n    }),\n    overflowX: 'hidden',\n});\n\nconst closedMixin = (theme: Theme): CSSObject => ({\n    transition: theme.transitions.create('width', {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen,\n    }),\n    overflowX: 'hidden',\n    width: `calc(${theme.spacing(7)} + 1px)`,\n    [theme.breakpoints.down('sm')]: {\n        width: 0,\n    }\n});\n\n// @ts-ignore\nconst DrawerHeader = styled('div')(({theme}) => ({\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n}));\n\ninterface AppBarProps extends MuiAppBarProps {\n    open?: boolean;\n}\n\nconst StyledAppBar = styled(MuiAppBar, {\n    shouldForwardProp: (prop) => prop !== 'open',\n})<AppBarProps>(({theme, open}) => ({\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create(['width', 'margin'], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen,\n    }),\n    ...(open && {\n        marginLeft: drawerWidth,\n        width: `calc(100% - ${drawerWidth}px)`,\n        transition: theme.transitions.create(['width', 'margin'], {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n    }),\n}));\n\nconst Drawer = styled(MuiDrawer, {shouldForwardProp: (prop) => prop !== 'open'})(\n    ({theme, open}) => ({\n        width: drawerWidth,\n        flexShrink: 0,\n        whiteSpace: 'nowrap',\n        boxSizing: 'border-box',\n        ...(open && {\n            ...openedMixin(theme),\n            '& .MuiDrawer-paper': openedMixin(theme),\n        }),\n        ...(!open && {\n            ...closedMixin(theme),\n            '& .MuiDrawer-paper': closedMixin(theme),\n        }),\n    }),\n);\n\nexport default function Appbar(props: { children?: any }) {\n    const theme = useTheme();\n    const {campaignId} = useParams();\n    const navigate = useNavigate();\n    const {user, logout} = useAuth();\n    const [open, setOpen] = React.useState(false);\n    const { t, i18n } = useTranslation();\n\n    const {children} = props;\n\n    const handleDrawerOpen = () => {\n        setOpen(true);\n    };\n\n    const handleDrawerClose = () => {\n        setOpen(false);\n    };\n\n    const DrawerItems = [\n        {page: \"tasks\", title: t(\"appbar.tasks\"), icon: <AssignmentIcon/>},\n        {page: \"notifications\", title: t(\"appbar.notifications\"), icon: <NotificationsIcon/>}\n    ]\n\n    const renderDrawerItems = () => {\n        return DrawerItems.map((item, index) => (\n            <ListItem key={index} component={Link} to={`campaign/${campaignId}/${item.page}`}>\n                <ListItemIcon>\n                    {item.icon}\n                </ListItemIcon>\n                <ListItemText primary={item.title}/>\n            </ListItem>\n        ));\n    };\n\n    const handleLanguageChange = () => {\n        if (i18n.language === \"ru\") {\n            i18n.changeLanguage(\"en\");\n            localStorage.setItem('lang', \"en\");\n        } else {\n            i18n.changeLanguage(\"ru\");\n            localStorage.setItem('lang', \"ru\");\n        }\n    }\n\n    return (\n        <Box sx={{display: 'flex'}}>\n            <CssBaseline/>\n            <StyledAppBar position=\"fixed\" open={open}>\n                <Toolbar>\n                    {campaignId && <IconButton\n                        color=\"inherit\"\n                        aria-label=\"open drawer\"\n                        onClick={handleDrawerOpen}\n                        edge=\"start\"\n                        sx={{\n                            marginRight: '16px',\n                            ...(open && {display: 'none'}),\n                        }}\n                    >\n                        <MenuIcon/>\n                    </IconButton>}\n                    <Box sx={{flexGrow: 1}}>\n                        <MuiLink component={Link} color={\"inherit\"} underline=\"none\" variant=\"h6\" noWrap to={\"/\"} sx={{\n                            '&:hover': {\n                                color: 'white',\n                                boxShadow: 'none',\n                            }\n                        }}>\n                            GigaTurnip Tasks\n                        </MuiLink>\n                        <Typography variant={\"subtitle2\"}>{user?.email}</Typography>\n                    </Box>\n                    <Button color={\"inherit\"} onClick={handleLanguageChange}>{i18n.language}</Button>\n                    <Button color={\"inherit\"} onClick={() => logout(() => console.log('log out'))}>{t(\"appbar.log_out\")}</Button>\n                </Toolbar>\n            </StyledAppBar>\n            {campaignId && <Drawer variant=\"permanent\" open={open}>\n                <DrawerHeader>\n                    <IconButton onClick={handleDrawerClose}>\n                        {theme.direction === 'rtl' ? <ChevronRightIcon/> : <ChevronLeftIcon/>}\n                    </IconButton>\n                </DrawerHeader>\n                <Divider/>\n                <List>\n                    {renderDrawerItems()}\n                </List>\n            </Drawer>}\n            <Box component=\"main\" sx={{flexGrow: 1, width: \"100%\"}}>\n                <DrawerHeader/>\n                {children}\n            </Box>\n        </Box>\n    );\n}\n","import React from 'react';\nimport Appbar from \"./appbar/Appbar\";\nimport { Outlet } from \"react-router-dom\";\n\nconst Layout = () => {\n    return (\n        <div>\n            <Appbar>\n                <Outlet />\n            </Appbar>\n        </div>\n    );\n};\n\nexport default Layout","import React, { useEffect, useState } from \"react\";\nimport { Box, Button, Divider, TextField, Typography } from \"@mui/material\";\nimport { useAuth } from \"../../context/authentication/hooks/useAuth\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport { RecaptchaVerifier, signInWithPhoneNumber } from \"firebase/auth\";\nimport { auth } from \"../../services/firebase/Firebase\";\n\ndeclare global {\n    interface Window {\n        recaptchaVerifier: RecaptchaVerifier;\n    }\n}\n\n\nconst Login = () => {\n    const { login, loginWithPhone, requestOTP } = useAuth();\n    const navigate = useNavigate();\n    const location = useLocation();\n    const { t } = useTranslation();\n\n    const [phoneNumber, setPhoneNumber] = useState<string | null>(null);\n    const [OTPCode, setOTPcode] = useState<string | null>(null);\n    const [codeIsSend, setCodeIsSend] = useState(false);\n\n    // @ts-ignore\n    const from = (location?.state?.from?.pathname ?? \"/\") + location?.state?.search;\n\n    const handleLogin = () => {\n        login(() => navigate(from, { replace: true }))\n    }\n\n    useEffect(() => {\n        generateRecaptcha()\n    }, [])\n\n\n    const generateRecaptcha = () => {\n        window.recaptchaVerifier = new RecaptchaVerifier('recaptcha-container', {\n            'size': 'invisible',\n        }, auth);\n    }\n\n\n    const requestSMSCode = async () => {\n        if (phoneNumber) {\n            const appVerifier = window.recaptchaVerifier;\n            const isSend = await requestOTP(phoneNumber, appVerifier);\n            setCodeIsSend(isSend);\n        }\n    }\n\n    const submitSMSCode = () => {\n        if (OTPCode) {\n            loginWithPhone(OTPCode, () => navigate(from, { replace: true }));\n        }\n    }\n\n    return (\n        <Box display={\"flex\"} justifyContent={\"center\"}>\n            <Box p={3} maxWidth={500}>\n                <Typography align=\"center\" variant=\"h4\">{t(\"sign_up_page.title\")}</Typography>\n                <Typography variant=\"body1\" align=\"center\">{t(\"sign_up_page.description1\")}</Typography>\n                <Typography variant=\"body1\" align=\"center\">{t(\"sign_up_page.description2\")}</Typography>\n                <Box display={\"flex\"} justifyContent={\"center\"} py={2}>\n                    <Button size=\"large\" color=\"primary\" variant=\"contained\" fullWidth={true}\n                        onClick={handleLogin}>{t(\"sign_up_page.sign_up_button\")}</Button>\n                </Box>\n                <Divider><Typography variant={\"caption\"}>{t(\"sign_up_page.divider_text\")}</Typography></Divider>\n                <Box py={2}>\n                    <Box py={1}>\n                        <TextField\n                            type=\"tel\"\n                            label={t(\"sign_up_page.phone_number\")}\n                            onChange={(event) => setPhoneNumber(event.target.value)}\n                            fullWidth\n                            helperText={t(\"sign_up_page.phone_helper_text\")} />\n                    </Box>\n                    <Button onClick={requestSMSCode} size=\"large\" color=\"primary\" variant=\"contained\" fullWidth={true}>\n                        {t(\"sign_up_page.request_code_button\")}\n                    </Button>\n                </Box>\n                <Box hidden={!codeIsSend} py={1}>\n                    <Box py={1}>\n                        <TextField label={t(\"sign_up_page.otp_code\")} onChange={(event) => setOTPcode(event.target.value)} fullWidth />\n                    </Box>\n                    <Button onClick={submitSMSCode} size=\"large\" color=\"primary\" variant=\"contained\" fullWidth={true}>\n                        {t(\"sign_up_page.submit_code_button\")}\n                    </Button>\n                </Box>\n                <Box id=\"recaptcha-container\"></Box>\n            </Box>\n        </Box>\n    )\n}\n\nexport default Login","import React from 'react';\nimport {Button, CardActions, CardContent, Typography} from '@mui/material'\nimport MuiCard from '@mui/material/Card';\nimport {useTranslation} from \"react-i18next\";\n\ntype Props = {\n    data: any;\n    onClick: (id: number) => void;\n};\n\nconst Card = (props: Props) => {\n    const {data, onClick} = props;\n    const {name, description, id, reopened} = data;\n\n    const {t} = useTranslation();\n\n    const handleClick = () => {\n        onClick(id)\n    }\n\n    return (\n        <MuiCard>\n            <CardContent sx={{pb: 1}}>\n                <Typography variant=\"h5\" component=\"div\">\n                    {name}\n                </Typography>\n                <Typography gutterBottom variant={\"caption\"} color=\"text.secondary\">ID: {id}</Typography>\n                <Typography overflow={\"hidden\"} textOverflow={\"ellipsis\"} variant=\"body2\"\n                            sx={{height: 60, maxWidth: 500}}>\n                    {description}\n                </Typography>\n            </CardContent>\n            <CardActions sx={{justifyContent: \"space-between\"}}>\n                <Button size=\"small\" onClick={handleClick}>{t(\"open\")}</Button>\n                <Typography color={\"error\"} hidden={!reopened}>{t('returned')}</Typography>\n            </CardActions>\n        </MuiCard>\n    );\n};\n\nexport default Card","import React, { ReactNode, useEffect, useState } from 'react';\nimport CardHeader from \"@mui/material/CardHeader\";\nimport { Box, CardActions, Grid, Typography } from \"@mui/material\";\nimport ExpandMoreIcon from \"@mui/icons-material/ExpandMore\";\nimport Collapse from \"@mui/material/Collapse\";\nimport CardContent from \"@mui/material/CardContent\";\nimport Card from \"@mui/material/Card\";\nimport { styled } from \"@mui/material/styles\";\nimport IconButton, { IconButtonProps } from \"@mui/material/IconButton\";\nimport { useTranslation } from \"react-i18next\";\nimport OpenInNewIcon from '@mui/icons-material/OpenInNew';\n\ntype Props = {\n    data: any,\n    hideExpandButton?: boolean,\n    hideOpenButton?: boolean,\n    extraActions?: ReactNode[],\n    onClick?: (id: number) => void\n};\n\ninterface ExpandMoreProps extends IconButtonProps {\n    expand: boolean;\n}\n\nconst ExpandMore = styled((props: ExpandMoreProps) => {\n    const { expand, ...other } = props;\n    return <IconButton {...other} />;\n})(({ theme, expand }) => ({\n    transform: !expand ? 'rotate(0deg)' : 'rotate(180deg)',\n    marginLeft: 'auto',\n    transition: theme.transitions.create('transform', {\n        duration: theme.transitions.duration.shortest,\n    }),\n}));\n\nconst ExpandableCard: React.FC<Props> = (props) => {\n    const { data, children, hideExpandButton, hideOpenButton, extraActions, onClick } = props;\n    const { name, description, id } = data;\n    const [expand, setExpand] = useState(false);\n    const { t } = useTranslation();\n\n    const handleToggle = () => {\n        setExpand(!expand)\n    }\n\n    useEffect(() => {\n        setExpand(false);\n    }, [id])\n\n    const handleClick = () => {\n        if (onClick) {\n            onClick(id)\n        }\n    }\n\n    return (\n        <Card>\n            <CardHeader\n                action={\n                    <Grid container direction=\"column\">\n                        {extraActions}\n                        <IconButton hidden={hideOpenButton} onClick={handleClick}>\n                            <Box display={\"flex\"} justifyContent={\"center\"} alignItems={\"center\"} flexDirection={\"column\"}>\n                                <OpenInNewIcon color={'primary'} />\n                                <Typography variant={'caption'}>{t(\"open\")}</Typography>\n                            </Box>\n                        </IconButton>\n                    </Grid>\n                }\n                title={name}\n                subheader={`ID: ${id}`}\n                titleTypographyProps={{ variant: \"h6\" }}\n                subheaderTypographyProps={{ variant: \"caption\" }}\n            />\n            <CardActions>\n                <ExpandMore\n                    hidden={hideExpandButton}\n                    key={\"expand_button\"}\n                    expand={expand}\n                    onClick={handleToggle}\n                    aria-expanded={expand}\n                    aria-label=\"show more\"\n                >\n                    <ExpandMoreIcon />\n                </ExpandMore>\n            </CardActions>\n            <Collapse in={expand} timeout=\"auto\" unmountOnExit>\n                <CardContent>\n                    {children}\n                </CardContent>\n            </Collapse>\n        </Card>\n    );\n};\n\nexport default ExpandableCard","import React from 'react';\nimport {Grid, Typography} from \"@mui/material\";\nimport Card from \"../card/Card\";\nimport ExpandableCard from \"../card/ExpandableCard\";\nimport {ViewProps} from \"./List.types\";\n\ntype Props = {\n    data: any[],\n    view: ViewProps,\n    onSelect: (id: number) => void\n};\n\nconst ListContent: React.FC<Props> = (props) => {\n    const {data, view, children, onSelect} = props;\n    if (!data) {\n        return <Typography>Error</Typography>;\n    }\n\n    if (view === \"custom\") {\n        return <>{children}</>\n    }\n\n    if (view === \"grid\") {\n        return (\n            <Grid container py={2} spacing={{xs: 2, md: 3}} columns={{xs: 4, sm: 8, md: 12}}>\n                {data.map((item, index) =>\n                    <Grid item xs={2} sm={4} md={4} key={index}>\n                        <Card data={item} onClick={onSelect}/>\n                    </Grid>\n                )}\n            </Grid>\n        );\n    }\n    if (view === \"list\") {\n        return (\n            <Grid container py={2} spacing={2}>\n                {data.map((item, index) =>\n                    <Grid item xs={12} key={index}>\n                        <ExpandableCard data={item} hideExpandButton={true} onClick={onSelect}>\n                            {children}\n                        </ExpandableCard>\n                    </Grid>\n                )}\n            </Grid>\n        );\n    }\n    return null;\n};\n\nexport default ListContent","import React from 'react';\nimport {Button, Grid, IconButton, Tooltip, Typography} from \"@mui/material\";\nimport {Link} from \"react-router-dom\";\nimport GridViewIcon from \"@mui/icons-material/GridView\";\nimport ViewListIcon from \"@mui/icons-material/ViewList\";\nimport {ViewProps} from \"./List.types\";\nimport {useTranslation} from \"react-i18next\";\n\ntype Props = {\n    label?: string,\n    location: any,\n    view: ViewProps,\n    hideCreateButton?: boolean,\n    hideViewButton?: boolean,\n    onViewChange: (view: ViewProps) => void\n};\n\nconst ListHeader = (props: Props) => {\n    const {label, view, location, hideCreateButton, hideViewButton, onViewChange} = props;\n    const {t} = useTranslation();\n\n    return (\n        <Grid container alignItems={\"center\"} spacing={1}>\n            <Grid item flex={1}>\n                <Typography hidden={!label} variant={\"h4\"}>{label}</Typography>\n            </Grid>\n            <Grid item hidden={hideCreateButton}>\n                <Button component={Link} to={\"new\"} state={{from: location}} variant={\"contained\"} sx={{\n                    '&:hover': {\n                        color: 'white',\n                        boxShadow: 'none',\n                    }\n                }}>{t(\"list_header.create\")}</Button>\n            </Grid>\n            <Grid item hidden={hideViewButton}>\n                <Tooltip title={t(\"list_header.grid\") as string}>\n                    <IconButton\n                        color={view === \"grid\" ? \"primary\" : \"default\"}\n                        onClick={() => onViewChange(\"grid\")}\n                    >\n                        <GridViewIcon/>\n                    </IconButton>\n                </Tooltip>\n                <Tooltip title={t(\"list_header.list\") as string}>\n                    <IconButton\n                        color={view === \"list\" ? \"primary\" : \"default\"}\n                        onClick={() => onViewChange(\"list\")}\n                    >\n                        <ViewListIcon/>\n                    </IconButton>\n                </Tooltip>\n            </Grid>\n        </Grid>\n    );\n};\n\nexport default ListHeader","import React, {useEffect, useState} from 'react';\nimport {Box} from \"@mui/material\";\nimport {useLocation} from \"react-router-dom\";\nimport ListContent from \"./ListContent\";\nimport ListHeader from \"./ListHeader\";\nimport {ViewProps} from \"./List.types\";\n\n\ntype Props = {\n    data: any[],\n    id: string,\n    label?: string,\n    defaultView?: ViewProps;\n    hideCreateButton?: boolean,\n    hideViewButton?: boolean,\n    onSelect: (id: number) => void,\n    hidden?: boolean\n};\n\nconst List: React.FC<Props> = (props) => {\n    const {id, data, label, defaultView, hideCreateButton, hideViewButton, children, hidden, onSelect} = props;\n    const location = useLocation();\n\n    const [view, setView] = useState<ViewProps>(defaultView ?? \"grid\");\n\n    useEffect(() => {\n        if (!defaultView) {\n            const view = localStorage.getItem(`${id}_view`) as ViewProps || \"grid\";\n            if (view) {\n                setView(view)\n            }\n        }\n    }, [])\n\n    const handleViewChange = (view: ViewProps) => {\n        setView(view)\n        localStorage.setItem(`${id}_view`, view);\n    }\n\n    return (\n        <Box hidden={hidden}>\n            <ListHeader label={label} view={view} onViewChange={handleViewChange} location={location}\n                        hideCreateButton={hideCreateButton} hideViewButton={hideViewButton}/>\n            <ListContent data={data} view={view} onSelect={onSelect}>\n                {children}\n            </ListContent>\n        </Box>\n    );\n};\n\nexport default List","const baseUrl = \"https://journal-bb5e3.uc.r.appspot.com/\"\n// const baseUrl = \"http://127.0.0.1:8000/\"\nconst campaignsUrl = \"api/v1/campaigns/\"\nconst chainsUrl = \"api/v1/chains/\"\nconst taskstagesUrl = \"api/v1/taskstages/\"\nconst ranksUrl = \"api/v1/ranks/\"\nconst rankslimitsUrl = \"api/v1/ranklimits/\"\nconst webhookstagesUrl = \"api/v1/webhookstages/\"\nconst conditionalstagesUrl = \"api/v1/conditionalstages/\"\nconst manualstagesUrl = \"api/v1/manualstages/\" // TBD\nconst casesUrl = \"api/v1/cases/\"\nconst tasksUrl = \"api/v1/tasks/\"\nconst notificationsUrl = \"/api/v1/notifications/\"\n\nexport {\n    baseUrl,\n    campaignsUrl,\n    chainsUrl,\n    taskstagesUrl,\n    ranksUrl,\n    rankslimitsUrl,\n    webhookstagesUrl,\n    conditionalstagesUrl,\n    casesUrl,\n    tasksUrl,\n    manualstagesUrl,\n    notificationsUrl\n}","import {\n    baseUrl,\n    campaignsUrl,\n    chainsUrl,\n    conditionalstagesUrl,\n    notificationsUrl,\n    taskstagesUrl,\n    tasksUrl\n} from \"./Urls\";\nimport defaultAxios from \"axios\";\nimport {useAuth} from \"../../context/authentication/hooks/useAuth\";\nimport {useToast} from \"../../context/toast/hooks/useToast\";\n\n\nconst useAxios = () => {\n    const {openToast} = useToast();\n    const {getToken} = useAuth();\n    const axios = defaultAxios.create({\n        baseURL: baseUrl\n    });\n\n    axios.interceptors.request.use(\n        config => {\n            return getToken().then(token => {\n                if (token && config && config.headers) {\n                    config.headers[\"Authorization\"] = 'JWT ' + token;\n                }\n                return config;\n            });\n        },\n        error => Promise.reject(error)\n    );\n\n    // Pagination Functions\n    const paginatedDataHandler = (\n        data: any,\n        setDataFunction: (res: any) => void,\n        setCountFunction: (count: number) => void,\n    ) => {\n        const {results, count} = data;\n        const numOfPages = Math.ceil(count / 10)\n        console.log(\"numOfPages\", numOfPages)\n        console.log(\"results\", results)\n        setDataFunction(results)\n        setCountFunction(numOfPages)\n    }\n\n    const createPaginationURL = (request: string, page?: number) => {\n        if (page && page > 0) {\n            return `${request}&limit=10&offset=${(page - 1) * 10}`\n        } else {\n            return request\n        }\n    }\n\n    const getCampaigns = () => {\n        return axios.get(`${campaignsUrl}?limit=1000`)\n            .then(res => res.data)\n            .then(res => res.results);\n    }\n\n    const getUserCampaigns = () => {\n        return axios.get(`${campaignsUrl}list_user_campaigns/`)\n            .then(res => res.data);\n    }\n\n    const getSelectableCampaigns = () => {\n        return axios.get(campaignsUrl + 'list_user_selectable/')\n            .then(res => res.data);\n    }\n\n    const requestCampaignJoin = (id: number) => {\n        return axios.post(campaignsUrl + id + '/join_campaign/')\n    }\n\n    const requestCampaignInfo = (id: number) => {\n        return axios.get(campaignsUrl + id + '/')\n            .then(res => res.data)\n    }\n\n    const getChains = (campaignId: number) => {\n        return axios.get(`${chainsUrl}?campaign=${campaignId}&limit=1000`)\n            .then(res => res.data)\n            .then(res => res.results)\n            .catch((err) => openToast(err.message));\n    }\n\n    const createChain = (data: { name: string, campaign: number, description?: string }) => {\n        return axios.post(`${chainsUrl}`, data)\n            .catch((err) => openToast(err.message));\n    }\n\n    const getStageNodes = (campaignId: number, chainId: number) => {\n        return axios.get(`${taskstagesUrl}?chain__campaign=${campaignId}&chain=${chainId}&limit=1000`)\n            .then(res => res.data)\n            .then(res => res.results)\n            .catch((err) => openToast(err.message));\n    };\n\n    const getLogicNodes = (campaignId: number, chainId: number) => {\n        return axios.get(`${conditionalstagesUrl}?chain__campaign=${campaignId}&chain=${chainId}&limit=1000`)\n            .then(res => res.data)\n            .then(res => res.results)\n            .catch((err) => openToast(err.message));\n    };\n\n    const getTaskStage = (id: number) => {\n        return axios.get(`${taskstagesUrl + id}/`)\n            .then(res => res.data)\n            .catch((err) => openToast(err.message));\n    }\n\n    const saveTaskStage = (id: number, data: any) => {\n        return axios.patch(`${taskstagesUrl + id}/`, data)\n            .catch((err) => openToast(err.message));\n    }\n\n    const getTaskStageOptions = () => {\n        return axios.options(`${taskstagesUrl}`)\n            .then(res => res.data)\n            .catch((err) => openToast(err.message));\n    }\n\n    const getConditionalStage = (id: number) => {\n        return axios.get(`${conditionalstagesUrl + id}/`)\n            .then(res => res.data)\n            .catch((err) => openToast(err.message));\n    }\n\n    const saveConditionalStage = (id: number, data: any) => {\n        return axios.patch(`${conditionalstagesUrl + id}/`, data)\n            .catch((err) => openToast(err.message));\n    }\n\n    const getTaskFields = (id: number) => {\n        return axios.get(`${taskstagesUrl + id}/schema_fields/`)\n            .then(res => res.data);\n    }\n\n    // TaskCard Functions\n    const requestTaskCreation = (id: number) => {\n        return axios.post(taskstagesUrl + id + '/create_task/')\n            .then(res => res.data)\n    }\n\n    const requestTaskAssignment = (id: number) => {\n        return axios.post(tasksUrl + id + '/request_assignment/')\n            .then(res => res.data)\n    }\n\n    // TaskMenu Functions\n    const getSelectableTasks = (campaignId: number, page?: number, filter?: {query: string, mode: \"simple\" | \"complex\"}) => {\n        let url = createPaginationURL(`${tasksUrl}user_selectable/?stage__chain__campaign=${campaignId}`, page)\n        if (filter?.mode == \"simple\") {\n            url += `&responses_contains=${filter.query}`\n        }\n        if (filter?.mode == \"complex\") {\n            url += `&task_responses=${filter.query}`\n        }\n        console.log(url)\n        return axios.get(url).then(res => {\n            console.log(\"getSelectableTasks\", res.data)\n            return res.data;\n        })\n    };\n\n    const getCompleteTasks = (campaignId: number) => {\n        return axios.get(`${tasksUrl}user_relevant/?complete=${true}&stage__chain__campaign=${campaignId}`)\n            .then(res => res.data)\n            .then(res => {\n                console.log(\"getCompleteTasks\", res)\n                return (res)\n            })\n    };\n\n    const getOpenTasks = (campaignId: number) => {\n        return axios.get(`${tasksUrl}user_relevant/?complete=${false}&stage__chain__campaign=${campaignId}`)\n            .then(res => res.data)\n            .then(res => {\n                console.log(\"getOpenTasks\", res)\n                return (res)\n            })\n    };\n\n    const getCreatableTasks = (campaignId: number) => {\n        return axios.get(`${taskstagesUrl}user_relevant/?chain__campaign=${campaignId}`)\n            .then(res => res.data)\n    };\n\n    // Task Functions\n    const getPreviousTasks = (id: number) => {\n        return axios.get(`${tasksUrl + id}/list_displayed_previous/`)\n            .then(res => res.data)\n    }\n\n    const getTask = (id: number) => {\n        return axios.get(`${tasksUrl + id}/`)\n            .then((res: any) => res.data)\n    }\n\n    const saveTask = (id: number, data: { responses: any, complete?: boolean }) => {\n        return axios.patch(`${tasksUrl + id}/`, data)\n            .then(res => res.data)\n    }\n\n    const releaseTask = (id: number) => {\n        return axios.post(`${tasksUrl + id}/release_assignment/`)\n            .then(res => res.data)\n    }\n\n    const openPreviousTask = (id: number) => {\n        return axios.get(`${tasksUrl + id}/open_previous/`)\n            .then(res => res.data)\n    }\n\n    const getIntegratedData = (id: number) => {\n        return axios.get(`${tasksUrl + id}/get_integrated_tasks/`)\n            .then(res => res.data);\n    }\n\n    const triggerTaskWebhook = (id: number) => {\n        return axios.get(`${tasksUrl + id}/trigger_webhook/`)\n    }\n\n    const getDynamicSchema = (id: number, formData: any, taskId: number) => {\n        return axios.get(`${taskstagesUrl + id}/load_schema_answers/?current_task=${taskId}&responses=${formData}`)\n            .then(res => res.data);\n    }\n\n    // Notifications Functions\n    const getUserNotifications = (campaignId: number, viewed: boolean, importance?: number, page?: number) => {\n        const url = createPaginationURL(`${notificationsUrl}list_user_notifications/?campaign=${campaignId}&viewed=${viewed}`, page)\n        if (importance === 0) {\n            return axios.get(`${url}&importance=${importance}`)\n                .then(res => res.data)\n        } else {\n            return axios.get(url)\n                .then(res => res.data)\n        }\n    }\n\n    const getNotificationContent = (id: number) => {\n        return axios.get(`${notificationsUrl + id}/`).then(res => res.data)\n    }\n\n    return {\n        axios,\n        getCampaigns,\n        getChains,\n        createChain,\n        getStageNodes,\n        getLogicNodes,\n        getTaskStage,\n        saveTaskStage,\n        getTaskStageOptions,\n        getConditionalStage,\n        saveConditionalStage,\n        getUserCampaigns,\n        getSelectableCampaigns,\n        requestCampaignJoin,\n        requestCampaignInfo,\n        requestTaskCreation,\n        requestTaskAssignment,\n        getCompleteTasks,\n        getOpenTasks,\n        getCreatableTasks,\n        getSelectableTasks,\n        getPreviousTasks,\n        getTask,\n        saveTask,\n        releaseTask,\n        openPreviousTask,\n        getIntegratedData,\n        triggerTaskWebhook,\n        getUserNotifications,\n        getNotificationContent,\n        getTaskFields,\n        getDynamicSchema\n    }\n}\n\nexport default useAxios;","const useHelpers = () => {\n\n    const parseId = (id: string | undefined) => {\n        if (id) {\n            return parseInt(id);\n        } else {\n            throw new Error(\"No id\");\n        }\n    }\n\n    const parseJson = (text: string | undefined) => {\n        if (text) {\n            return JSON.parse(text);\n        } else {\n            return {}\n        }\n    }\n\n    const parseTaskData = (data: any) => {\n        return ({\n            responses: data.responses,\n            schema: parseJson(data.stage.json_schema),\n            uiSchema: parseJson(data.stage.ui_schema)\n        })\n    }\n\n    const formatDateString = (date: string) => {\n        const d = new Date(date)\n        const year = d.getFullYear()\n        const month = addZeroesToDate(d.getMonth() + 1)\n        const day = addZeroesToDate(d.getDate())\n        const hours = addZeroesToDate(d.getHours())\n        const minutes = addZeroesToDate(d.getMinutes())\n        const seconds = addZeroesToDate(d.getSeconds())\n        return `${day}/${month}/${year} ${hours}:${minutes}:${seconds}`\n    }\n\n    const addZeroesToDate = (date: number) => {\n        return date < 10 ? '0' + date : date\n    }\n\n    return {\n        parseId,\n        parseJson,\n        parseTaskData,\n        formatDateString\n    };\n};\n\nexport default useHelpers\n","import React, { useCallback, useEffect, useState } from \"react\";\n\nimport { WidgetProps } from \"@rjsf/core\";\nimport { useReactMediaRecorder } from \"react-media-recorder\";\nimport { Box, Button, CircularProgress, Grid } from \"@mui/material\";\nimport RadioButtonCheckedIcon from '@mui/icons-material/RadioButtonChecked';\nimport StopCircleIcon from '@mui/icons-material/StopCircle';\nimport { storage } from \"../../../../services/firebase/Firebase\"\nimport { keyframes } from \"@emotion/react\";\nimport styled from \"@emotion/styled\";\nimport { getDownloadURL, ref, uploadBytes } from \"firebase/storage\";\nimport AudioPlayer from 'react-h5-audio-player';\nimport 'react-h5-audio-player/lib/styles.css';\n\nconst AudioWidget = ({\n    schema,\n    id,\n    options,\n    value,\n    required,\n    disabled,\n    readonly,\n    label,\n    formContext,\n    onChange,\n    onBlur\n}: WidgetProps) => {\n\n    const [record, setRecord] = useState<any>(null)\n    const [loader, setLoader] = useState(false)\n\n    const { storagePath } = formContext;\n    const privateUpload = options.private ? options.private : false;\n    const defaultRecord = options.default ? options.default : false;\n    const readOnly = readonly || (options.readonly as boolean ?? false);\n\n    const privatePath = privateUpload ? \"private\" : \"public\";\n    const storageRef = ref(storage, `${privatePath}/${storagePath}`);\n\n    useEffect(() => {\n        if (defaultRecord) {\n            setRecord(options.default)\n        }\n        else if (value) {\n            getDownloadURL(ref(storage, value))\n                .then(url => setRecord(url))\n        }\n    }, [value])\n\n    const Indicator = styled.div`\n      width: 10px;\n      height: 10px;\n      margin-left: 8px;\n      border-radius: 50%;\n      background-color: red;\n      animation: ${keyframes`50% {opacity: 0;}`} 1s linear infinite;\n    `\n\n    const handleStopRecording = async (blobUrl: string, blob: Blob) => {\n        setLoader(true)\n        setRecord(blobUrl)\n        const ext = blob.type.split('/')[1]\n        const filename = id.replace(/\\./g, '_').replace(/ /g, '_') + '.' + ext\n        const fileRef = ref(storageRef, filename)\n        const path = await uploadBytes(fileRef, blob).then((snapshot: any) => snapshot.ref.fullPath)\n        setLoader(false)\n        onChange(path);\n        onBlur(id, path)\n    }\n\n    const {\n        status,\n        startRecording,\n        stopRecording\n    } = useReactMediaRecorder({ video: false, onStop: handleStopRecording });\n\n    const renderButton = (status: string) => {\n        switch (status) {\n            case \"recording\":\n                return (\n                    <Button\n                        variant={\"contained\"}\n                        onClick={stopRecording}\n                        sx={{ marginBottom: 1 }}\n                        disabled={disabled || readOnly}\n                        endIcon={<StopCircleIcon />}\n                    >\n                        Остановить\n                    </Button>\n                );\n            default:\n                return (\n                    <Button\n                        variant={\"contained\"}\n                        onClick={startRecording}\n                        sx={{ marginBottom: 1 }}\n                        disabled={disabled || readOnly}\n                        endIcon={<RadioButtonCheckedIcon sx={{ fill: disabled || readonly ? \"grey\" : \"red\" }} />}\n                    >\n                        Запись\n                    </Button>\n                );\n        }\n    }\n\n\n    return (\n        <Box>\n            <label className={\"form-label\"}>{label}{required && \"*\"}</label>\n            {!defaultRecord && !(disabled || readOnly) && <Grid container alignItems={\"center\"}>\n                <Grid item>{!record ? renderButton(status) : null}</Grid>\n                <Grid item>{status === \"recording\" && <Indicator />}</Grid>\n                <Grid item>{loader && <CircularProgress sx={{ marginLeft: 1 }} size={30} />}</Grid>\n                {record && <Button\n                    variant={\"contained\"}\n                    disabled={disabled || readOnly}\n                    onClick={() => {\n                        onChange('');\n                        setRecord(null);\n                    }}>Удалить</Button>}\n            </Grid>}\n            {record && <Grid container>\n                <AudioPlayer\n                    src={record}\n                    onPlay={e => console.log(\"onPlay\")}\n                // progressJumpSteps={{backward: 10000, forward: 10000}}\n                />\n            </Grid>}\n        </Box>\n    );\n};\n\nexport default AudioWidget;","import React from \"react\";\n\nimport Form from \"react-bootstrap/Form\";\n\nimport { WidgetProps } from \"@rjsf/core\";\n\nconst TextWidget = ({\n  id,\n  placeholder,\n  required,\n  readonly,\n  disabled,\n  label,\n  value,\n  onChange,\n  onBlur,\n  onFocus,\n  autofocus,\n  options,\n  schema,\n  rawErrors = [],\n\n}: WidgetProps) => {\n  const _onChange = ({\n    target: { value },\n  }: React.ChangeEvent<HTMLInputElement>) =>\n    onChange(value === \"\" ? options.emptyValue : value);\n  const _onBlur = ({ target: { value } }: React.FocusEvent<HTMLInputElement>) =>\n    onBlur(id, value);\n  const _onFocus = ({\n    target: { value },\n  }: React.FocusEvent<HTMLInputElement>) => onFocus(id, value);\n  const inputType = (schema.type) === 'string' ?  'text' : `${schema.type}`\n    \n  return (\n    <Form.Group className=\"mb-0\">\n      <Form.Label className={rawErrors.length > 0 ? \"text-danger\" : \"\"}>\n        {label || schema.title}\n        {(label || schema.title) && required ? \"*\" : null}\n      </Form.Label>\n      <Form.Control\n        id={id}\n        placeholder={placeholder}\n        autoFocus={autofocus}\n        required={required}\n        disabled={disabled}\n        readOnly={readonly}\n        className={rawErrors.length > 0 ? \"is-invalid\" : \"\"}\n        list={schema.examples ? `examples_${id}` : undefined}\n        type={inputType}\n        value={value || value === 0 ? value : \"\"}\n        onChange={_onChange}\n        onBlur={_onBlur}\n        onFocus={_onFocus}\n\n      />\n      {schema.examples ? (\n        <datalist id={`examples_${id}`}>\n          {(schema.examples as string[])\n            .concat(schema.default ? ([schema.default] as string[]) : [])\n            .map((example: any) => {\n              return <option key={example} value={example} />;\n            })}\n        </datalist>\n      ) : null}\n    </Form.Group>\n  );\n};\n\nexport default TextWidget;","import {uploadBytesResumable, ref, getDownloadURL} from \"firebase/storage\";\n\nconst returnNewState = (prevState, update, multiple) => {\n    if (multiple) {\n        if (prevState) {\n            return {...prevState, ...update}\n        } else {\n            return update\n        }\n    } else {\n        return update\n    }\n}\n\nconst upload = async (files, storageRef, setFileBeingUploaded, setFileLinks, multiple) => {\n    if (storageRef) {\n        if (!multiple) {\n            setFileBeingUploaded({})\n            setFileLinks({})\n        }\n        await Promise.all(files.map(async file => {\n            const period = file.name.lastIndexOf('.');\n            const name = file.name.substring(0, period);\n            const ext = file.name.substring(period);\n            const filename = name.replace(/\\./g, '_').replace(/ /g, '_') + ext;\n\n            const fileRef = ref(storageRef, file.name)\n            const uploadTask = uploadBytesResumable(fileRef, file)\n\n            setFileBeingUploaded(prevState => {\n                const update = {[filename]: {status: \"loading\", progress: 0}}\n                return prevState ? {...prevState, ...update} : update\n            })\n\n            // Listen for state changes, errors, and completion of the upload.\n            uploadTask.on('state_changed', // or 'state_changed'\n                snapshot => {\n                    // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\n                    const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n                    setFileBeingUploaded(prevState => {\n                        const update = {[filename]: {status: \"loading\", progress: progress}}\n                        return prevState ? {...prevState, ...update} : update\n                    })\n                },\n                error => {\n                    console.log(error)\n                },\n                () => {\n                    // Upload completed successfully, now we can get the download URL\n                    getDownloadURL(uploadTask.snapshot.ref).then((downloadURL) => {\n                        const filePath = uploadTask.snapshot.ref.fullPath\n                        const fileLink = downloadURL\n                        setFileBeingUploaded(prevState => {\n                            const update = {[filename]: {status: \"complete\", progress: 100, url: fileLink}}\n                            return returnNewState(prevState, update, multiple)\n                        })\n                        setFileLinks(prevState => {\n                            const update = {[filename]: filePath}\n                            return returnNewState(prevState, update, multiple)\n                        })\n                    });\n                });\n        }))\n    }\n}\n\nexport default upload","import React from 'react'\nimport {Box, LinearProgress, Typography} from \"@mui/material\"\n\nconst LinearProgressWithLabel = (props: any) => {\n    return (\n        <Box display=\"flex\" alignItems=\"center\">\n            <Box width=\"100%\" mr={1}>\n                <LinearProgress variant=\"determinate\" {...props} />\n            </Box>\n            <Box minWidth={35}>\n                <Typography variant=\"body2\" color=\"textSecondary\">{`${Math.round(\n                    props.value,\n                )}%`}</Typography>\n            </Box>\n        </Box>\n    );\n}\n\nexport default LinearProgressWithLabel","import React, { useEffect, useState } from 'react'\nimport upload from \"./Upload\";\nimport LinearProgressWithLabel from \"../../../progress/LinearProgressWithLabel\";\nimport ImageViewer from 'react-simple-image-viewer';\nimport { Box, Button, Dialog } from \"@mui/material\";\nimport { ref, getDownloadURL, getMetadata } from \"firebase/storage\";\nimport { storage } from \"../../../../services/firebase/Firebase\";\nimport { useTranslation } from \"react-i18next\";\nimport { useToast } from '../../../../context/toast/hooks/useToast';\n\n\nconst CustomFileWidget = (props: any) => {\n    const { schema, uiSchema, disabled, required, formContext, value, id } = props;\n    const { storagePath } = formContext;\n    const [uploadedFiles, setUploadedFiles] = useState<any>({})\n    const [fileLinks, setFileLinks] = useState<any>({})\n    const [currentFile, setCurrentFile] = useState(\"\")\n    const [isImageOpen, setIsImageOpen] = useState(false);\n    const [isVideoOpen, setIsVideoOpen] = useState(false);\n    const [fileType, setFileType] = useState(\"\")\n    const [parsedValue, setParsedValue] = useState<any>({})\n\n    const { t } = useTranslation();\n    const { openToast } = useToast();\n\n    const privateUpload = uiSchema[\"ui:options\"] && uiSchema[\"ui:options\"].private ? uiSchema[\"ui:options\"].private : false\n    const multipleSelect = uiSchema[\"ui:options\"] && uiSchema[\"ui:options\"].multiple ? uiSchema[\"ui:options\"].multiple : false\n    const hasUploadedFiles = Object.keys(uploadedFiles).length > 0\n\n    const privatePath = privateUpload ? \"private\" : \"public\";\n    const storageRef = ref(storage, `${privatePath}/${storagePath}`);\n\n    useEffect(() => {\n        setUploadedFiles({});\n        if (value && Object.keys(value).length > 0) {\n            const parsed = JSON.parse(value)\n            setParsedValue(parsed)\n            Object.keys(parsed).forEach(filename => {\n                const fileRef = ref(storage, parsed[filename])\n                getDownloadURL(fileRef)\n                    .then(url => setUploadedFiles((prevState: any) => ({\n                        ...prevState,\n                        [filename]: { url: url, status: \"complete\" }\n                    })))\n            })\n        }\n    }, [value])\n\n    const handleChange = async (event: any) => {\n        await upload([...event.target.files], storageRef, setUploadedFiles, setFileLinks, multipleSelect)\n        event.target.value = null;\n    };\n\n    const _onBlur = () => props.onBlur(id, uploadedFiles);\n    const _onFocus = () => props.onFocus(id, uploadedFiles);\n\n    useEffect(() => {\n        const updateFormResponses = async () => {\n            try {\n                let stringify = \"\";\n                if (multipleSelect) {\n                    const parsed = JSON.parse(value);\n                    const allFiles = { ...parsed, ...fileLinks };\n                    stringify = JSON.stringify(allFiles);\n                } else {\n                    stringify = JSON.stringify(fileLinks);\n                }\n                await props.onChange(stringify);\n            } catch (error) {\n                const stringify = JSON.stringify(fileLinks)\n                await props.onChange(stringify)\n            }\n        }\n\n        if (fileLinks && Object.keys(fileLinks).length > 0) {\n            updateFormResponses().then(() => _onBlur())\n        }\n    }, [fileLinks])\n\n    const deleteFile = async (filename: string) => {\n        const parsed = parsedValue\n        if (filename in parsed) {\n            delete parsed[filename]\n            const stringify = Object.keys(parsed).length > 0 ? JSON.stringify(parsed) : undefined;\n            await props.onChange(stringify)\n            _onBlur()\n        }\n\n        const links = { ...fileLinks }\n        if (filename in links) {\n            delete links[filename]\n            setFileLinks(links)\n        }\n\n        const uploaded = { ...uploadedFiles }\n        if (filename in uploaded) {\n            delete uploaded[filename]\n            setUploadedFiles(uploaded)\n        }\n    };\n\n    const handleFileClick = async (filename: string) => {\n        const parsed = parsedValue;\n        if (filename in parsed) {\n            const path = parsed[filename];\n            const metadata = await getMetadata(ref(storage, path));\n            if (metadata && metadata.contentType) {\n                const type = metadata.contentType.split(\"/\")[0]\n                const ext = metadata.contentType.split(\"/\")[1]\n                switch (type) {\n                    case \"image\":\n                        setCurrentFile(uploadedFiles[filename].url);\n                        setFileType(metadata.contentType);\n                        setIsImageOpen(true);\n                        break;\n                    case \"video\":\n                        setCurrentFile(uploadedFiles[filename].url);\n                        if (ext === 'quicktime') {\n                            setFileType('video/mp4');\n                        } else {\n                            setFileType(metadata.contentType);\n                        }\n                        setIsVideoOpen(true);\n                        break;\n                    default:\n                        window.open(uploadedFiles[filename].url, '_blank');\n                }\n            }\n        }\n    }\n\n    const closeViewer = () => {\n        setCurrentFile(\"\")\n        setFileType(\"\");\n        setIsImageOpen(false);\n        setIsVideoOpen(false);\n    };\n\n    const copyPath = (filename: string) => {\n        const parsed = parsedValue\n        if (filename in parsed) {\n            const path = parsed[filename]\n            navigator.clipboard.writeText(path)\n                .then(() => openToast(t(\"Путь скопирован!\"), \"success\"))\n        }\n    }\n\n    return (\n        <div>\n            {isImageOpen && <ImageViewer\n                src={[currentFile]}\n                disableScroll={false}\n                backgroundStyle={{\n                    backgroundColor: \"rgba(0,0,0,0.8)\"\n                }}\n                closeOnClickOutside={true}\n                onClose={closeViewer}\n            />}\n            <Dialog\n                open={isVideoOpen}\n                onClose={closeViewer}\n                fullWidth={true}\n            >\n                <video height=\"360px\" controls>\n                    <source src={currentFile} type={fileType} />\n                    Your browser does not support the video tag.\n                </video>\n            </Dialog>\n\n            <label className={\"form-label\"}>\n                {schema?.title}\n                {schema?.title && required ? \"*\" : null}\n            </label>\n            <br />\n\n            <Box pb={1}>\n                <Button\n                    variant=\"contained\"\n                    component=\"label\"\n                    disabled={disabled}\n                >\n                    {t('files.choose_files')}\n                    <input\n                        type=\"file\"\n                        hidden\n                        disabled={disabled}\n                        multiple={multipleSelect}\n                        onChange={handleChange}\n                        onBlur={_onBlur}\n                        onFocus={_onFocus}\n                    />\n                </Button>\n            </Box>\n\n            {\n                Object.keys(uploadedFiles).map((filename, i) =>\n                    <div key={filename}>\n                        <div style={{ display: \"flex\", alignItems: \"baseline\" }}>\n                            <p>{filename}</p>\n                            {uploadedFiles[filename].status === 'complete' &&\n                                <div style={{ display: \"flex\", alignItems: \"baseline\" }}>\n                                    <button\n                                        onClick={() => handleFileClick(filename)}\n                                        style={{ fontSize: \"14px\", padding: 0, margin: \"0 10px\" }}\n                                        type=\"button\"\n                                        className=\"btn btn-link text-success\"\n                                    >\n                                        {t(\"files.view_file\")}\n                                    </button>\n                                    {!disabled &&\n                                        <button\n                                            onClick={() => deleteFile(filename)}\n                                            style={{ fontSize: \"14px\", padding: 0, margin: \"0 10px\" }}\n                                            type=\"button\"\n                                            className=\"btn btn-link text-danger\"\n                                        >\n                                            {t(\"files.remove_file\")}\n                                        </button>}\n                                    <button\n                                        onClick={() => copyPath(filename)}\n                                        style={{ fontSize: \"14px\", padding: 0, margin: \"0 10px\" }}\n                                        type=\"button\"\n                                        className=\"btn btn-link text-success\"\n                                    >\n                                        Скопировать путь\n                                    </button>\n                                </div>\n                            }\n                        </div>\n                        {uploadedFiles[filename].status === 'loading' &&\n                            <LinearProgressWithLabel value={uploadedFiles[filename].progress} />}\n                    </div>\n                )\n            }\n        </div>\n    )\n}\n\nexport default CustomFileWidget","import React from \"react\";\n\nimport Form from \"react-bootstrap/Form\";\n\nimport {WidgetProps} from \"@rjsf/core\";\n\nconst CustomLinkWidget = ({required, label, value, schema, rawErrors = []}: WidgetProps) => {\n    return (\n        value ? <Form.Group className=\"mb-0\">\n                <Form.Label className={rawErrors.length > 0 ? \"text-danger\" : \"\"}>\n                    {label || schema.title}\n                    {(label || schema.title) && required ? \"*\" : null}\n                </Form.Label>\n                <br/>\n                <a href={value}>{value}</a>\n            </Form.Group>\n            : null\n    );\n};\n\nexport default CustomLinkWidget;","import React from \"react\";\n\nimport Form from \"react-bootstrap/Form\";\n\nimport { WidgetProps } from \"@rjsf/core\";\n\nconst RadioWidget = ({\n  id,\n  schema,\n  options,\n  value,\n  required,\n  disabled,\n  readonly,\n  label,\n  onChange,\n  onBlur,\n  onFocus,\n}: WidgetProps) => {\n  const { enumOptions, enumDisabled } = options;\n\n  const _onChange = ({\n    target: { value },\n  }: React.ChangeEvent<HTMLInputElement>) =>\n    onChange(schema.type == \"boolean\" ? value !== \"false\" : value);\n  const _onBlur = ({ target: { value } }: React.FocusEvent<HTMLInputElement>) =>\n    onBlur(id, value);\n  const _onFocus = ({\n    target: { value },\n  }: React.FocusEvent<HTMLInputElement>) => onFocus(id, value);\n\n  const inline = Boolean(options && options.inline);\n\n  return (\n    <Form.Group className=\"mb-0\">\n      <Form.Label className=\"d-block\">\n        {label || schema.title}\n        {(label || schema.title) && required ? \"*\" : null}\n      </Form.Label>\n      {(enumOptions as any).map((option: any, i: number) => {\n        const itemDisabled =\n          Array.isArray(enumDisabled) &&\n          enumDisabled.indexOf(option.value) !== -1;\n        const checked = option.value == value;\n\n        const radio = (\n          <Form.Check\n            inline={inline}\n            label={option.label}\n            id={`${id}_${option.label}`}\n            key={i}\n            name={id}\n            type=\"radio\"\n            disabled={disabled || itemDisabled || readonly}\n            checked={checked}\n            required={required}\n            value={option.value}\n            onChange={_onChange}\n            onBlur={_onBlur}\n            onFocus={_onFocus}\n          />\n        );\n        return radio;\n      })}\n    </Form.Group>\n  );\n};\n\nexport default RadioWidget;","import React from \"react\";\nimport {WidgetProps} from \"@rjsf/core\";\nimport {DateTimePicker, LocalizationProvider} from \"@mui/lab\";\nimport {TextField} from \"@mui/material\";\nimport Form from \"react-bootstrap/Form\";\nimport enLocale from \"date-fns/locale/en-GB\";\nimport ruLocale from \"date-fns/locale/ru\";\nimport AdapterDateFns from \"@mui/lab/AdapterDateFns\";\nimport {useTranslation} from \"react-i18next\";\n\n\nfunction DateTimeWidget(props: WidgetProps) {\n    const {\n        schema,\n        required,\n        disabled,\n        readonly,\n        label,\n        value,\n        onChange,\n    } = props;\n\n    const {i18n, t} = useTranslation();\n\n    const localeMap: any = {\n        en: enLocale,\n        ru: ruLocale,\n    };\n\n    return (\n        <LocalizationProvider dateAdapter={AdapterDateFns} locale={localeMap[i18n.language]}><Form.Group\n            className=\"mb-0\">\n            <Form.Label className=\"d-block\">\n                {label || schema.title}\n                {(label || schema.title) && required ? \"*\" : null}\n            </Form.Label>\n            <DateTimePicker\n                inputFormat=\"dd.MM.yyyy HH:mm\"\n                mask=\"__.__.____ __:__\"\n                disabled={disabled}\n                readOnly={readonly}\n                value={value ? new Date(value) : null}\n                label={t(\"widgets.date_time_label\")}\n                onChange={value => onChange(value?.toJSON())}\n                ignoreInvalidInputs={true}\n                renderInput={(params) => <TextField {...params} hiddenLabel fullWidth size=\"small\"/>}\n            />\n        </Form.Group>\n        </LocalizationProvider>\n    );\n}\n\nexport default DateTimeWidget;","import React from \"react\";\nimport {WidgetProps} from \"@rjsf/core\";\nimport {DatePicker, LocalizationProvider} from \"@mui/lab\";\nimport {TextField} from \"@mui/material\";\nimport Form from \"react-bootstrap/Form\";\nimport enLocale from \"date-fns/locale/en-GB\";\nimport ruLocale from \"date-fns/locale/ru\";\nimport AdapterDateFns from \"@mui/lab/AdapterDateFns\";\nimport {useTranslation} from \"react-i18next\";\n\n\nfunction DateWidget(props: WidgetProps) {\n    const {\n        schema,\n        required,\n        disabled,\n        readonly,\n        label,\n        value,\n        onChange,\n    } = props;\n\n    const {i18n, t} = useTranslation();\n\n    const localeMap: any = {\n        en: enLocale,\n        ru: ruLocale,\n    };\n\n    return (\n        <LocalizationProvider dateAdapter={AdapterDateFns} locale={localeMap[i18n.language]}><Form.Group\n            className=\"mb-0\">\n            <Form.Label className=\"d-block\">\n                {label || schema.title}\n                {(label || schema.title) && required ? \"*\" : null}\n            </Form.Label>\n            <DatePicker\n                inputFormat=\"dd.MM.yyyy\"\n                mask=\"__.__.____\"\n                disabled={disabled}\n                readOnly={readonly}\n                value={value ? new Date(value) : null}\n                label={t(\"widgets.date_label\")}\n                onChange={value => onChange(value?.toJSON()?.slice(0, 10))}\n                ignoreInvalidInputs={true}\n                renderInput={(params) => <TextField {...params} hiddenLabel fullWidth size=\"small\"/>}\n            />\n        </Form.Group>\n        </LocalizationProvider>\n    );\n}\n\nexport default DateWidget;","// @ts-nocheck\nimport React from \"react\";\n\nimport {asNumber, guessType} from \"@rjsf/core/lib/utils\";\n\nconst nums = new Set([\"number\", \"integer\"]);\n\n/**\n * This is a silly limitation in the DOM where option change event values are\n * always retrieved as strings.\n */\nfunction processValue(schema, value) {\n    // \"enum\" is a reserved word, so only \"type\" and \"items\" can be destructured\n    const {type, items} = schema;\n    if (value === \"\") {\n        return undefined;\n    } else if (type === \"array\" && items && nums.has(items.type)) {\n        return value.map(asNumber);\n    } else if (type === \"boolean\") {\n        return value === \"true\";\n    } else if (type === \"number\") {\n        return asNumber(value);\n    }\n\n    // If type is undefined, but an enum is present, try and infer the type from\n    // the enum values\n    if (schema.enum) {\n        if (schema.enum.every(x => guessType(x) === \"number\")) {\n            return asNumber(value);\n        } else if (schema.enum.every(x => guessType(x) === \"boolean\")) {\n            return value === \"true\";\n        }\n    }\n\n    return value;\n}\n\nfunction getValue(event, multiple) {\n    if (multiple) {\n        return [].slice\n            .call(event.target.options)\n            .filter(o => o.selected)\n            .map(o => o.value);\n    } else {\n        return event.target.value;\n    }\n}\n\nfunction SelectWidget(props) {\n    const {\n        schema,\n        id,\n        options,\n        value,\n        required,\n        disabled,\n        readonly,\n        multiple,\n        autofocus,\n        label,\n        onChange,\n        onBlur,\n        onFocus,\n        placeholder,\n    } = props;\n    const {enumOptions, enumDisabled} = options;\n    const emptyValue = multiple ? [] : \"\";\n    return (\n        <>\n            <label className=\"form-label\">{label || schema.title}\n                {(label || schema.title) && required ? \"*\" : null}\n            </label>\n            <select\n                id={id}\n                multiple={multiple}\n                className=\"form-control\"\n                value={typeof value === \"undefined\" ? emptyValue : value}\n                required={required}\n                disabled={disabled || readonly}\n                autoFocus={autofocus}\n                onBlur={\n                    onBlur &&\n                    (event => {\n                        const newValue = getValue(event, multiple);\n                        onBlur(id, processValue(schema, newValue));\n                    })\n                }\n                onFocus={\n                    onFocus &&\n                    (event => {\n                        const newValue = getValue(event, multiple);\n                        onFocus(id, processValue(schema, newValue));\n                    })\n                }\n                onChange={event => {\n                    const newValue = getValue(event, multiple);\n                    onChange(processValue(schema, newValue));\n                }}>\n                {!multiple && schema.default === undefined && (\n                    <option value=\"\">{placeholder}</option>\n                )}\n                {enumOptions.map(({value, label}, i) => {\n                    const disabled = enumDisabled && enumDisabled.indexOf(value) != -1;\n                    return (\n                        <option key={i} value={value} disabled={disabled}>\n                            {label}\n                        </option>\n                    );\n                })}\n            </select>\n        </>\n    );\n}\n\nexport default SelectWidget;","import React from \"react\";\n\nimport Form from \"react-bootstrap/Form\";\n\nimport {FieldProps} from \"@rjsf/core\";\nimport {Box, Button, Typography} from \"@mui/material\";\n\nconst Counter = ({required, label, formData, schema, onChange, rawErrors = []}: FieldProps) => {\n\n    const _onChange = (action: \"add\" | \"remove\") => {\n        const _value = Array.isArray(formData) ? formData : [];\n        if (action === \"add\") {\n            const newValue = [..._value, new Date().toISOString()];\n            onChange(newValue);\n        } else if (action === \"remove\") {\n            const newValue = [..._value];\n            newValue.pop();\n            onChange(newValue);\n        }\n    }\n\n    return (\n        <Form.Group className=\"mb-0\">\n            <Form.Label className={rawErrors.length > 0 ? \"text-danger\" : \"\"}>\n                {label || schema.title}\n                {(label || schema.title) && required ? \"*\" : null}\n            </Form.Label>\n            <br/>\n            <Box>\n                <Typography align={\"center\"} variant={\"h2\"}>{Array.isArray(formData) ? formData.length : 0}</Typography>\n                <Box display={\"flex\"} alignItems={\"center\"}>\n                    <Box width={\"80%\"} pr={1}>\n                        <Button sx={{height: 110}} color={\"success\"} fullWidth variant={\"contained\"}\n                                onClick={() => _onChange(\"add\")}>+</Button>\n                    </Box>\n                    <Box width={\"20%\"}>\n                        <Button sx={{height: 110}} fullWidth variant={\"contained\"} color={\"warning\"}\n                                onClick={() => _onChange(\"remove\")}>-</Button>\n                    </Box>\n                </Box>\n            </Box>\n        </Form.Group>\n    );\n};\n\nexport default Counter;","import React from \"react\";\n\nimport Form from \"react-bootstrap/Form\";\n\nimport { WidgetProps } from \"@rjsf/core\";\nimport { Autocomplete, TextField } from \"@mui/material\";\n\nconst SimpleAutoComplete = ({\n    id,\n    placeholder,\n    required,\n    readonly,\n    disabled,\n    label,\n    value,\n    onChange,\n    onBlur,\n    onFocus,\n    autofocus,\n    options,\n    schema,\n    rawErrors = [],\n\n}: WidgetProps) => {\n    const _onChange = ({\n        target: { value },\n    }: React.ChangeEvent<HTMLInputElement>) =>\n        onChange(value === \"\" ? options.emptyValue : value);\n    const _onBlur = ({ target: { value } }: React.FocusEvent<HTMLInputElement>) =>\n        onBlur(id, value);\n    const _onFocus = ({\n        target: { value },\n    }: React.FocusEvent<HTMLInputElement>) => onFocus(id, value);\n    const inputType = (schema.type) === 'string' ? 'text' : `${schema.type}`\n\n    return (\n        <Form.Group className=\"mb-0\">\n            <Form.Label className={rawErrors.length > 0 ? \"text-danger\" : \"\"}>\n                {label || schema.title}\n                {(label || schema.title) && required ? \"*\" : null}\n            </Form.Label>\n            <Autocomplete\n                placeholder={placeholder}\n                disabled={disabled}\n                readOnly={readonly}\n                value={value || value === 0 ? value : \"\"}\n                onChange={(event, value, reason) => onChange(value === \"\" ? options.emptyValue : value)}\n                onBlur={_onBlur}\n                style={{ width: \"100%\" }}\n                onFocus={_onFocus}\n                disablePortal\n                id={id}\n                options={(schema.examples as string[]).concat(schema.default ? ([schema.default] as string[]) : [])}\n                sx={{ width: 300 }}\n                renderInput={(params) => <TextField required={required} autoFocus={autofocus} {...params} error={rawErrors.length > 0 ? true : false} hiddenLabel label=\"option\" size=\"small\" />}\n            />\n        </Form.Group>\n    );\n};\n\nexport default SimpleAutoComplete;","import React from 'react';\nimport {\n    AudioWidget,\n    AutoCompleteWidget,\n    DateTimeWidget,\n    DateWidget,\n    FileWidget,\n    LinkWidget,\n    RadioWidget,\n    SelectWidget,\n    CounterWidget,\n    SimpleAutoComplete\n} from \"./custom-widgets\";\nimport JsonForm from \"@rjsf/bootstrap-4\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {FormProps} from \"@rjsf/core\"\nimport {useTranslation} from \"react-i18next\";\nimport { useToast } from '../../context/toast/hooks/useToast';\n\n\ninterface Props extends FormProps<any> {\n    schema: object,\n    uiSchema?: object,\n    formData?: any,\n    onChange?: (formData: object) => void,\n    onSubmit?: (formData: object) => void,\n    hideButton?: boolean,\n    disabled?: boolean\n}\n\nconst Form: React.FC<Props> = (props) => {\n    const {schema, uiSchema, formData, hideButton, onChange, onSubmit, children, disabled, ...rest} = props;\n    const {t} = useTranslation();\n    const {openToast} = useToast();\n\n    const widgets = {\n        customfile: FileWidget,\n        autocomplete: AutoCompleteWidget,\n        RadioWidget: RadioWidget,\n        customlink: LinkWidget,\n        audio: AudioWidget,\n        DateTimeWidget: DateTimeWidget,\n        DateWidget: DateWidget,\n        SelectWidget: SelectWidget,\n        simple_autocomplete: SimpleAutoComplete,\n    };\n\n    const fields = {\n        counter: CounterWidget\n    }\n\n    const customFormats = {\n        'time': /^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/\n    };\n\n    const handleChange = (e: { formData: object }) => {\n        if (onChange) {\n            onChange(e.formData)\n        } else {\n            return 0\n        }\n    }\n\n    const handleSubmit = (e: { formData: object }) => {\n        if (onSubmit) {\n            onSubmit(e.formData)\n        } else {\n            return 0\n        }\n    }\n\n    const renderButton = () => {\n        if (children) {\n            return children;\n        } else if (hideButton) {\n            return \" \"\n        } else {\n            return <button type=\"submit\" className=\"btn btn-primary\" disabled={disabled}>{t(\"submit\")}</button>\n        }\n    }\n\n    return (\n        <JsonForm\n            schema={schema}\n            uiSchema={uiSchema}\n            formData={formData}\n            widgets={widgets}\n            fields={fields}\n            customFormats={customFormats}\n            onChange={handleChange}\n            onSubmit={handleSubmit}\n            disabled={disabled}\n            onError={(e) => openToast('Форманы толтурууда ката бар. Кайра текшерип чыгыңыз / Есть ошибка в заполнении формы. Проверьте ещё раз.', \"error\")}\n            {...rest}\n        >\n            {renderButton()}\n        </JsonForm>\n    );\n};\n\nexport default Form","import React from 'react';\nimport { Box, Button, Chip, CircularProgress, Dialog, Divider, Grid, Stack, Typography } from \"@mui/material\";\nimport Form from \"../../../../components/form/Form\";\nimport { TaskViews } from \"../Task.types\";\nimport { useAuth } from \"../../../../context/authentication/hooks/useAuth\";\nimport { useTranslation } from \"react-i18next\";\nimport ArrowCircleDownIcon from '@mui/icons-material/ArrowCircleDown';\n\nexport type Props = {\n    data: any,\n    formData?: any,\n    complete?: boolean,\n    view?: TaskViews,\n    disabled?: boolean,\n    previousTasks?: any[],\n    isUploading: boolean,\n    onChange: (formData: any) => void,\n    onSubmit: (formData: any) => void,\n    onRelease: () => void,\n    onPrevious: () => void,\n    hideSubmit?: boolean\n    onFocus?: (id: string, formData: any) => void\n    onBlur?: (id: string, formData: any) => void\n};\n\nconst CommonView = (props: Props) => {\n    const {\n        data,\n        view,\n        complete,\n        previousTasks,\n        formData,\n        disabled,\n        hideSubmit,\n        onChange,\n        onSubmit,\n        onRelease,\n        onPrevious,\n        onFocus,\n        onBlur,\n        isUploading\n    } = props;\n    const { id: taskId, schema, uiSchema } = data;\n    const { id: stageId, allow_go_back, allow_release } = data.stage;\n    const { id: chainId, campaign: campaignId } = data.stage.chain;\n    const inactive = disabled || complete;\n\n    const { t } = useTranslation();\n    const { user } = useAuth();\n    const storagePath = user ? `${campaignId}/${chainId}/${stageId}/${user.uid}/${taskId}` : null;\n\n    const renderPreviousTasks = (tasks: any[] | undefined) => {\n        if (Array.isArray(tasks) && tasks.length > 0) {\n            return tasks.map((task: any, index) => {\n                const { responses, schema, uiSchema } = task;\n                return <Form\n                    key={`prev_task_${index}`}\n                    schema={schema}\n                    uiSchema={uiSchema}\n                    formData={responses}\n                    hideButton={true}\n                    disabled={true}\n                />;\n            }\n            );\n        } else {\n            return null;\n        }\n    }\n\n    const renderButtons = () => (\n        <Stack spacing={1} py={1}>\n            <Button type={\"submit\"} variant={\"contained\"} hidden={hideSubmit}\n                disabled={inactive}>{t(\"task.submit\")}</Button>\n            <Button hidden={!allow_go_back} variant={\"contained\"} color={\"secondary\"} disabled={inactive}\n                onClick={onPrevious}>{t(\"task.open_previous\")}</Button>\n            <Button hidden={!allow_release} variant={\"contained\"} color={\"warning\"} disabled={inactive}\n                onClick={onRelease}>{t(\"task.release\")}</Button>\n        </Stack>\n    )\n\n    const form = (\n        <Form\n            schema={schema}\n            uiSchema={uiSchema}\n            formData={formData}\n            onChange={onChange}\n            onSubmit={onSubmit}\n            onFocus={onFocus}\n            onBlur={onBlur}\n            omitExtraData={true}\n            liveOmit={true}\n            formContext={{ storagePath }}\n            disabled={inactive}>\n            {renderButtons()}\n        </Form>\n    )\n\n    if (view === \"split\" && Array.isArray(previousTasks) && previousTasks.length > 0) {\n        return (\n            <Grid container direction='row' spacing={1}>\n                <Grid container item sm={6} xs={12} sx={{ display: 'block' }}>\n                    {renderPreviousTasks(previousTasks)}\n                </Grid>\n                <Grid container item sm={6} xs={12} sx={{ display: 'block' }}>\n                    {form}\n                </Grid>\n            </Grid>\n        );\n    } else {\n        return (\n            <Box>\n                <Dialog open={isUploading}>\n                    <Box padding={2}>\n                        <Box display={\"flex\"} justifyContent=\"center\" padding={1}>\n                            <CircularProgress />\n                        </Box>\n                        <Typography>Жиберүү / Отправка</Typography>\n                    </Box>\n                </Dialog>\n                {renderPreviousTasks(previousTasks)}\n                <Divider hidden={previousTasks?.length === 0} sx={{ py: 1 }}>\n                    <Chip icon={<ArrowCircleDownIcon />} color={\"primary\"} label={t(\"task.divider_text\")} />\n                </Divider>\n                {form}\n            </Box>\n        );\n    }\n};\n\nexport default CommonView","import React from 'react';\nimport { Box, IconButton, Tooltip, Typography } from \"@mui/material\";\nimport CheckCircleIcon from \"@mui/icons-material/CheckCircle\";\nimport ExpandableCard from \"../../../../components/card/ExpandableCard\";\nimport CommonView from \"../common-task/CommonView\";\nimport { TaskViews } from \"../Task.types\";\nimport { useTranslation } from \"react-i18next\";\nimport EditIcon from '@mui/icons-material/Edit';\n\ntype Props = {\n    active: boolean,\n    data: any,\n    formData?: any,\n    complete?: boolean,\n    view?: TaskViews,\n    disabled?: boolean,\n    previousTasks?: any[],\n    onChange: (formData: any) => void,\n    onSubmit: (formData: any) => void,\n    onRelease: () => void,\n    onPrevious: () => void,\n    onOpen: () => void,\n    onRequest: () => void,\n    hideOpen?: boolean,\n    hideSubmit?: boolean,\n    onAction?: () => void\n};\n\nconst QuickView = (props: Props) => {\n    const { active, onRequest, onOpen, onAction, hideSubmit, hideOpen, ...rest } = props;\n    const cardData = { name: props.data.stage.name, id: props.data.id }\n\n    const { t } = useTranslation();\n\n    const requestButton = active ?\n        (\n            <Tooltip key={\"edit_button_checked\"} title={t(\"accepted\") as string}>\n                <IconButton color={\"primary\"} size={\"small\"} onClick={onAction}>\n                    <CheckCircleIcon color={\"primary\"} fontSize={\"large\"} />\n                </IconButton>\n            </Tooltip>\n        )\n        :\n        <IconButton key={\"edit_button\"} onClick={onRequest}>\n            <Box display={\"flex\"} justifyContent={\"center\"} alignItems={\"center\"} flexDirection={\"column\"}>\n                <EditIcon color={'primary'} />\n                <Typography variant={'caption'}>{t('edit')}</Typography>\n            </Box>\n        </IconButton>\n\n    return (\n        <ExpandableCard data={cardData} extraActions={[requestButton]} hideOpenButton={hideOpen} onClick={onOpen}>\n            <CommonView {...rest} hideSubmit={hideSubmit} disabled={!active} isUploading={false} />\n        </ExpandableCard>\n    );\n};\n\nexport default QuickView","import React, {useCallback, useEffect, useState} from 'react';\nimport {Box} from \"@mui/material\";\nimport {TaskProps} from \"../Task.types\";\nimport {useNavigate} from \"react-router-dom\";\nimport QuickView from \"./QuickView\";\n\ntype Props = TaskProps & {\n    active?: boolean,\n    hideSubmit?: boolean,\n    hideOpen?: boolean,\n    onAction?: (id: number, action: \"add\" | \"remove\") => void\n}\n\nconst Quick = (props: Props) => {\n    const {\n        id,\n        view,\n        active: isActive,\n        hideSubmit,\n        hideOpen,\n        fullwidth,\n        disabled,\n        getData,\n        getPreviousData,\n        saveData,\n        releaseTask,\n        debouncedSave,\n        openPreviousTask,\n        handleRedirect,\n        handlePrompt,\n        openToast,\n        requestTask,\n        onAction,\n        updateState\n    } = props;\n\n    const navigate = useNavigate();\n\n    const [data, setData] = useState<any>();\n    const [formData, setFormData] = useState();\n    const [complete, setComplete] = useState(true);\n    const [previousTasks, setPreviousTasks] = useState([]);\n    const [active, setActive] = useState(isActive ?? false)\n\n    const mountData = useCallback(async (id) => {\n        setActive(false);\n        const data = await getData(id);\n        setData(data);\n        setFormData(data.responses ?? {});\n        setComplete(data.complete);\n        try {\n            const prev = await getPreviousData(id);\n            setPreviousTasks(prev)\n        } catch (error) {\n            setPreviousTasks([])\n            console.log(error);\n        }\n    }, [])\n\n    useEffect(() => {\n        mountData(id);\n    }, [mountData, id])\n\n    useEffect(() => {\n        if (typeof isActive === \"boolean\") {\n            setActive(isActive)\n        }\n    }, [isActive])\n\n\n    const handleRelease = () => {\n        releaseTask(id)\n            .then(() => setActive(false));\n    }\n\n    const handleOpenPrevious = () => {\n        openPreviousTask(id)\n            .then(res => {\n                const {id: prevId} = res;\n                handleRedirect(id, prevId, mountData);\n            })\n    };\n\n    const handleChange = (formData: any) => {\n        setFormData(formData);\n    }\n\n    const handleSubmit = (formData: any) => {\n        return saveData(id, {responses: formData, complete: true})\n            .then((res) => {\n                openToast(\"Данные сохранены\", \"success\");\n                setActive(false);\n                updateState()\n            })\n            .catch(err => openToast(err.message, \"error\"));\n    }\n\n    const handleRequest = () => {\n        if (onAction) {\n            onAction(id, \"add\")\n        } else {\n            requestTask(id)\n                .then((res) => mountData(res.id))\n                .then(() => setActive(true))\n        }\n    }\n\n    const handleOpen = () => {\n        if (active) {\n            navigate(`${id}`);\n        } else {\n            requestTask(id)\n                .then(res => {\n                    const {id} = res;\n                    navigate(`${id}`);\n                })\n        }\n    }\n\n    const handleAction = () => {\n        if (onAction) {\n            onAction(id, \"remove\")\n        } else {\n            return null\n        }\n    }\n\n    useEffect(() => {\n        if (active) {\n            debouncedSave(id, {responses: formData});\n        }\n    }, [formData, complete, debouncedSave, id])\n\n    const formProps = {\n        data,\n        formData,\n        complete,\n        previousTasks: previousTasks,\n        disabled,\n        onChange: handleChange,\n        onSubmit: handleSubmit,\n        onRelease: handleRelease,\n        onPrevious: handleOpenPrevious,\n        onOpen: handleOpen,\n        onRequest: handleRequest\n    }\n\n    if (!data) {\n        return null;\n    }\n\n    return (\n        <Box>\n            <QuickView active={active} hideOpen={hideOpen} onAction={handleAction} hideSubmit={hideSubmit}\n                       view={view} {...formProps}/>\n        </Box>\n    );\n\n};\n\nexport default Quick","import React from 'react';\nimport Box, {BoxProps} from \"@mui/material/Box\";\nimport {styled} from \"@mui/material/styles\";\n\nconst BuilderLayout = styled(Box)<BoxProps>(() => ({\n    width: '70%',\n    minWidth: '400px',\n    margin: '0 auto'\n}));\n\nexport default BuilderLayout","import React, { useCallback, useEffect, useState } from 'react';\nimport { Box } from \"@mui/material\";\nimport BuilderLayout from \"../../../../components/layout/common-layouts/BuilderLayout\";\nimport { TaskProps } from \"../Task.types\";\nimport CommonView from \"./CommonView\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport debounce from \"lodash.debounce\";\n\n\nconst Common = (props: TaskProps & { update?: boolean, forceUpdate?: (value: boolean) => void }) => {\n    const {\n        id,\n        view,\n        fullwidth,\n        disabled,\n        getData,\n        getPreviousData,\n        saveData,\n        releaseTask,\n        openPreviousTask,\n        handleRedirect,\n        handlePrompt,\n        // debouncedSave,\n        openToast,\n        update,\n        getDynamicForm,\n        forceUpdate\n    } = props;\n\n    const navigate = useNavigate();\n    const { t } = useTranslation();\n\n    const [data, setData] = useState<any>();\n    const [formData, setFormData] = useState<any>();\n    const [complete, setComplete] = useState(true);\n    const [previousTasks, setPreviousTasks] = useState([]);\n    const [isDynamic, setDynamic] = useState(false);\n    const [isUploading, setUploading] = useState(false);\n\n    const DEBOUNCE_SAVE_DELAY_MS = 2000;\n\n    const debouncedSave = useCallback(debounce((id: number, formData, data) => {\n        if (!complete) {\n            if (isDynamic) {\n                setDynamicForm(data, formData.responses)\n            }\n            return saveData(id, formData)\n        }\n    }, DEBOUNCE_SAVE_DELAY_MS), [complete, isDynamic]);\n\n    const setDynamicForm = (taskData: any, formData: object) => {\n        let _jsonData;\n        try {\n            if (formData) {\n                _jsonData = JSON.stringify(formData);\n            } else {\n                _jsonData = '{}';\n            }\n        } catch (e) {\n            _jsonData = '{}';\n        }\n        getDynamicForm(taskData.stage.id, _jsonData, taskData.id).then(res => {\n            const { schema, ...rest } = taskData;\n            const dynamicSchema = res.schema;\n            setData({ schema: dynamicSchema, ...rest })\n        })\n    }\n\n    const mountData = useCallback(async (id) => {\n        const data = await getData(id);\n        const prev = await getPreviousData(id);\n\n        if (!data.complete && data.stage.hasOwnProperty(\"dynamic_jsons_target\")) {\n            setDynamic(true);\n            setDynamicForm(data, data.responses);\n        }\n        setPreviousTasks(prev)\n        setData(data);\n        setFormData(data.responses ?? {});\n        setComplete(data.complete);\n    }, [])\n\n    useEffect(() => {\n        mountData(id);\n    }, [mountData, id])\n\n    useEffect(() => {\n        if (update && forceUpdate) {\n            mountData(id).then(() => forceUpdate(false))\n        }\n    }, [update])\n\n\n    const handleRelease = () => {\n        handlePrompt(false);\n        releaseTask(id)\n            .then(() => navigate('../..'));\n    }\n\n    const handleOpenPrevious = () => {\n        openPreviousTask(id)\n            .then(res => {\n                const { id: prevId } = res;\n                handleRedirect(id, prevId, mountData);\n            })\n    };\n\n    const handleChange = (formData: any) => {\n        setFormData(formData);\n    }\n\n    const handleSubmit = (formData: any) => {\n        setComplete(true);\n        setUploading(true);\n        return saveData(id, { responses: formData, complete: true })\n            .then((res) => {\n                setFormData({})\n                setUploading(false);\n                return res;\n            })\n            .then((res) => {\n                handlePrompt(false);\n                openToast(t(\"task.saved_message\"), \"success\");\n                const { next_direct_id } = res;\n                handleRedirect(id, next_direct_id, mountData);\n            })\n            .catch(err => {\n                setComplete(false);\n                setUploading(false);\n                openToast(err.message, \"error\")\n            });\n    }\n\n    useEffect(() => {\n        debouncedSave(id, { responses: formData }, data);\n        // Show Prompt if not complete\n        handlePrompt(!complete);\n    }, [formData, complete, debouncedSave, id])\n\n    const formProps = {\n        data,\n        formData,\n        complete,\n        previousTasks: previousTasks,\n        disabled,\n        isUploading,\n        onChange: handleChange,\n        onSubmit: handleSubmit,\n        onRelease: handleRelease,\n        onPrevious: handleOpenPrevious,\n    }\n\n    if (!data) {\n        return null;\n    }\n\n    if (fullwidth) {\n        return (\n            <Box>\n                <CommonView view={view} {...formProps} />\n            </Box>\n        );\n    }\n\n    return (\n        <BuilderLayout>\n            <CommonView view={view} {...formProps} />\n        </BuilderLayout>\n    );\n};\n\nexport default Common","import React, {useCallback, useEffect, useState} from 'react';\nimport {Box, Button, Chip, Divider, Grid} from \"@mui/material\";\nimport ArrowCircleDownIcon from \"@mui/icons-material/ArrowCircleDown\"\nimport Quick from \"../quick-task/Quick\";\nimport Common from \"../common-task/Common\";\nimport {TaskProps} from \"../Task.types\";\n\n\nconst Integrated = (props: TaskProps) => {\n    const {\n        id,\n        getIntegrated,\n        triggerWebhook\n    } = props;\n\n    const [integrations, setIntegrations] = useState([])\n    const [active, setActive] = useState<number[]>([])\n    const [update, setUpdate] = useState(false)\n\n    const mountData = useCallback(async (id) => {\n        const integrations = await getIntegrated(id);\n        setIntegrations(integrations);\n    }, [])\n\n    useEffect(() => {\n        mountData(id);\n    }, [mountData, id])\n\n    const handleActivate = (id: number, action: \"add\" | \"remove\") => {\n        if (action === \"add\") {\n            const newSet = Array.from(new Set([...active, id]));\n            setActive(newSet)\n        }\n        if (action === \"remove\") {\n            const copy: number[] = [...active]\n            const index = copy.indexOf(id);\n            if (index > -1) {\n                copy.splice(index, 1);\n                setActive(copy)\n            }\n        }\n    }\n\n    const forceUpdate = (value: boolean) => {\n        setUpdate(value)\n    }\n\n    const handleWebhook = () => {\n        triggerWebhook(id)\n            .then(() => setUpdate(true))\n    }\n\n    return (\n        <Box>\n            <Grid container spacing={2}>\n                {integrations.map((item: any, index: number) =>\n                    (\n                        <Grid item key={index} width={\"100%\"}>\n                            <Quick {...props} onAction={handleActivate} hideSubmit={true} active={active.includes(item.id)} id={item.id}/>\n                        </Grid>\n                    )\n                )}\n            </Grid>\n            <Box pt={2}>\n                <Button fullWidth color={\"warning\"} variant={\"contained\"} onClick={handleWebhook}>Сгенерировать форму</Button>\n            </Box>\n            <Divider sx={{py: 2}}>\n                <Chip icon={<ArrowCircleDownIcon/>} label=\"Обобщающая форма\"/>\n            </Divider>\n            <Common fullwidth={true} update={update} forceUpdate={forceUpdate} {...props} />\n        </Box>\n    );\n};\n\nexport default Integrated","import type {Blocker, History, Transition} from 'history';\nimport {ContextType, useCallback, useContext, useEffect} from 'react';\nimport {Navigator as BaseNavigator, UNSAFE_NavigationContext as NavigationContext} from 'react-router-dom';\n\ninterface Navigator extends BaseNavigator {\n    block: History['block'];\n}\n\ntype NavigationContextWithBlock = ContextType<typeof NavigationContext> & { navigator: Navigator };\n\n/**\n * @source https://github.com/remix-run/react-router/commit/256cad70d3fd4500b1abcfea66f3ee622fb90874\n */\nexport function useBlocker(blocker: Blocker, when = true) {\n    const {navigator} = useContext(NavigationContext) as NavigationContextWithBlock;\n\n    useEffect(() => {\n        if (!when) {\n            return;\n        }\n\n        const unblock = navigator.block((tx: Transition) => {\n            const autoUnblockingTx = {\n                ...tx,\n                retry() {\n                    unblock();\n                    setTimeout(() => tx.retry(), 100);\n                },\n            };\n\n            blocker(autoUnblockingTx);\n        });\n\n        return unblock;\n    }, [navigator, blocker, when]);\n}\n\n/**\n * @source https://github.com/remix-run/react-router/issues/8139#issuecomment-1021457943\n */\nexport function usePrompt(message: string | ((\n    location: Transition['location'],\n    action: Transition['action'],\n) => string), when = true) {\n    const blocker = useCallback((tx: Transition) => {\n        let response;\n        if (typeof message === 'function') {\n            response = message(tx.location, tx.action);\n            if (typeof response === 'string') {\n                response = window.confirm(response);\n            }\n        } else {\n            response = window.confirm(message);\n        }\n        if (response) {\n            tx.retry();\n        }\n    }, [message]);\n    return useBlocker(blocker, when);\n}","import React from 'react';\nimport {Editor} from \"@tinymce/tinymce-react\";\nimport {Box} from '@mui/material';\n\ntype Props = {\n    data?: string\n    hidden?: boolean\n};\n\nconst TextViewer = (props: Props) => {\n    const {data, hidden} = props;\n\n    return (\n        <Box hidden={hidden}>\n            <Editor\n                id={\"ViewerTinyMCE\"}\n                value={data}\n                inline={false}\n                disabled={true}\n                tinymceScriptSrc={process.env.PUBLIC_URL + '/tinymce/tinymce.min.js'}\n                init={{\n                    plugins: 'autoresize',\n                    toolbar: false,\n                    menubar: false,\n                    image_advtab: true,\n                    importcss_append: true,\n                }}\n            />\n        </Box>\n    );\n};\n\nexport default TextViewer","import React, {useState} from \"react\";\nimport {Box, IconButton, Stack, Typography} from \"@mui/material\";\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight';\n\nconst Presentation = (props: { urls: string[] }) => {\n    const {urls} = props;\n\n    const [currentIndex, setCurrentIndex] = useState(0);\n\n    const handleNext = () => {\n        if (urls.length > 1) {\n            if (currentIndex < urls.length - 1) {\n                setCurrentIndex(prevState => prevState + 1)\n            } else {\n                setCurrentIndex(0);\n            }\n        }\n    }\n\n    const handlePrevious = () => {\n        if (urls.length > 1) {\n            if (currentIndex > 0) {\n                setCurrentIndex(prevState => prevState - 1)\n            } else {\n                setCurrentIndex(urls.length - 1)\n            }\n        }\n    }\n\n    if (urls.length == 0) {\n        return null;\n    }\n\n    return (\n        <Box>\n            <Box display={\"flex\"} justifyContent={\"center\"}>\n                <img\n                    src={urls[currentIndex]}\n                    style={{\n                        maxHeight: \"100%\",\n                        maxWidth: \"100%\"\n                    }}\n                    alt={urls[currentIndex]}\n                    onClick={handleNext}\n                />\n            </Box>\n            <Stack direction={\"row\"} justifyContent={\"center\"} alignItems={\"center\"}>\n                <IconButton onClick={handlePrevious}>\n                    <ChevronLeftIcon/>\n                </IconButton>\n                <Typography px={1}>#{currentIndex + 1}/{urls.length}</Typography>\n                <IconButton onClick={handleNext}>\n                    <ChevronRightIcon/>\n                </IconButton>\n            </Stack>\n        </Box>\n    );\n}\n\nexport default Presentation;","import React, {useCallback, useEffect, useState} from 'react';\nimport {useNavigate, useParams} from \"react-router-dom\";\nimport useAxios from \"../../../services/api/useAxios\";\nimport useHelpers from \"../../../utils/hooks/UseHelpers\";\nimport Integrated from \"./integrated-task/Integrated\";\nimport Common from \"./common-task/Common\";\nimport debounce from 'lodash.debounce'\nimport {useToast} from \"../../../context/toast/hooks/useToast\";\nimport {usePrompt} from \"../../../components/prompt/Prompt\";\nimport {TaskViews} from \"./Task.types\";\nimport Quick from \"./quick-task/Quick\";\nimport {Alert, Box} from \"@mui/material\";\nimport TextViewer from \"../../../components/text-editor/TextViewer\";\nimport AssignmentReturnIcon from '@mui/icons-material/AssignmentReturn';\nimport {useTranslation} from \"react-i18next\";\nimport Presentation from \"../../../components/presentation/Presentation\";\n\ntype Props = {\n    variant?: \"quick\" | \"integrated\" | \"common\",\n    id?: number,\n    view?: TaskViews,\n    fullWidth?: boolean,\n    hidePrompt?: boolean,\n    active?: boolean,\n    updateState?: Function\n}\n\n\nconst Task = (props: Props) => {\n    const {variant, id, view, updateState: updateData, active: isActive, hidePrompt, fullWidth} = props;\n\n    const {t} = useTranslation();\n    const {taskId} = useParams();\n    const {\n        getTask,\n        saveTask,\n        getPreviousTasks,\n        releaseTask,\n        openPreviousTask,\n        requestTaskAssignment,\n        getIntegratedData,\n        triggerTaskWebhook,\n        getDynamicSchema\n    } = useAxios();\n\n    const {openToast} = useToast();\n    const navigate = useNavigate();\n    const {parseId, parseTaskData} = useHelpers();\n\n    const parsedId = id ? id : parseId(taskId);\n    const DEBOUNCE_SAVE_DELAY_MS = 2000;\n\n    const [showPrompt, setShowPrompt] = useState(false);\n    const [data, setData] = useState<any>();\n    const slides = data?.stage.external_metadata?.slides ?? [];\n\n    usePrompt(t(\"task.leave_page\"), hidePrompt ? false : showPrompt);\n\n    const getData = useCallback((id) => {\n        return getTask(id)\n            .then(res => ({...res, ...parseTaskData(res)}));\n    }, [])\n\n    const getPreviousData = useCallback((id) => {\n        return getPreviousTasks(id)\n            .then(res => res.map((task: any) => parseTaskData(task)));\n    }, [])\n\n    const getIntegrated = useCallback((id) => {\n        return getIntegratedData(id)\n    }, [])\n\n    const releaseUserTask = useCallback((id) => {\n        return releaseTask(id)\n    }, [])\n\n    const openPrevious = useCallback((id) => {\n        return openPreviousTask(id)\n    }, [])\n\n    const requestTask = useCallback((id) => {\n        return requestTaskAssignment(id)\n    }, [])\n\n    const triggerWebhook = useCallback((id) => {\n        return triggerTaskWebhook(id)\n    }, [])\n\n    const saveData = useCallback((id: number, data: { responses: any, complete?: boolean }) => {\n        return saveTask(id, data);\n    }, [])\n\n    const debouncedSave = useCallback(debounce((id: number, data) => {\n        return saveData(id, data)\n    }, DEBOUNCE_SAVE_DELAY_MS), []);\n\n    const handleRedirect = useCallback((id: number, next_direct_id: number, callback: Function) => {\n        if (next_direct_id) {\n            if (next_direct_id === id) {\n                // Refresh data if it is the same task\n                callback(id);\n            } else {\n                // Go to next task\n                navigate(`../../${next_direct_id}`);\n            }\n        } else {\n            navigate('../..');\n        }\n    }, [])\n\n    const handlePrompt = useCallback((value: boolean) => {\n        setShowPrompt(value)\n    }, [])\n\n    const updateState = useCallback((id) => {\n        return getData(id).then(res => setData(res))\n    }, [])\n\n    useEffect(() => {\n        updateState(parsedId)\n            .then(() => {\n                if (variant !== \"quick\") {\n                    window.scrollTo(0, 0);\n                }\n            });\n    }, [parsedId])\n\n    const getDynamicForm = useCallback((id: number, formData: any, taskId: number) => {\n        return getDynamicSchema(id, formData, taskId);\n    }, [])\n\n    const taskMethods = {\n        getData,\n        getPreviousData,\n        getIntegrated,\n        releaseTask: releaseUserTask,\n        requestTask,\n        triggerWebhook,\n        saveData,\n        debouncedSave,\n        openPreviousTask: openPrevious,\n        handleRedirect,\n        handlePrompt,\n        getDynamicForm,\n        openToast,\n        updateState: updateData ?? updateState\n    }\n\n\n    if (variant === \"quick\") {\n        return (\n            <Box>\n                <Quick id={parsedId} view={view} fullwidth={fullWidth} {...taskMethods}/>\n            </Box>\n        );\n    }\n\n    if (variant === \"integrated\" || data?.integrator_group) {\n        return (\n            <Box p={2}>\n                <Integrated id={parsedId} {...taskMethods}/>\n            </Box>\n        );\n    }\n\n    return (\n        <Box p={2}>\n            <Alert icon={<AssignmentReturnIcon fontSize=\"inherit\"/>} hidden={!(data && data.reopened)} sx={{mb: 2}}\n                   severity=\"error\">\n                {t('task.returned_message')}\n            </Alert>\n            <Presentation urls={slides}/>\n            <TextViewer data={data?.stage?.rich_text} hidden={!data?.stage?.rich_text}/>\n            <Common id={parsedId} view={view} fullwidth={true} {...taskMethods}/>\n        </Box>\n    );\n};\n\nexport default Task","import React, { useEffect, useState } from \"react\";\nimport { Box, Button, FormControl, FormGroup, InputLabel, MenuItem, Select, SelectChangeEvent, Switch, TextField, Typography, } from \"@mui/material\";\nimport useAxios from \"../../services/api/useAxios\";\nimport { chainsUrl, taskstagesUrl } from \"../../services/api/Urls\";\nimport Form from \"../../components/form/Form\";\nimport useHelpers from \"../../utils/hooks/UseHelpers\";\nimport { useTranslation } from \"react-i18next\";\n\nconst OPERATORS = [\"==\", \"!=\", \"<\", \">\", \"<=\", \">=\", \"in\"];\nconst TYPES = [\"string\", \"int\", \"datetime\"]\n\nconst TaskFilter = (props: { campaign: number, onFilter: (filter: { query: string, mode: \"simple\" | \"complex\" }) => void }) => {\n    const { campaign, onFilter } = props;\n\n    const { axios, getChains, getTaskFields } = useAxios();\n    const { parseId } = useHelpers();\n    const { t } = useTranslation();\n\n    const [chainId, setChainId] = useState(\"\")\n    const [searchStageId, setSearchStageId] = useState(\"\")\n    const [formStageId, setFormStageId] = useState(\"\")\n    const [chains, setChains] = useState([])\n    const [stages, setStages] = useState([])\n    const [jsonSchema, setJsonSchema] = useState<any>({})\n    const [uiSchema, setUiSchema] = useState({})\n    const [formResponses, setFormResponses] = useState({})\n    const [simpleFilterMode, setSimpleFilterMode] = useState(true)\n    const [simpleFilterQuery, setSimpleFilterQuery] = useState('');\n\n    useEffect(() => {\n        getChains(campaign)\n            .then(res => setChains(res))\n            .then(() => {\n                if (!chainId) {\n                    const savedChain = localStorage.getItem(\"selectable_filter_chain\");\n                    if (savedChain) {\n                        setChainId(savedChain)\n                    }\n                }\n            })\n    }, [campaign])\n\n    useEffect(() => {\n        if (chainId && chains.length > 0) {\n            axios.get(`${taskstagesUrl}?chain__campaign=${campaign}&chain=${chainId}`)\n                .then(res => res.data)\n                .then(res => setStages(res.results))\n                .then(() => {\n                    if (!formStageId) {\n                        const savedFormStage = localStorage.getItem(\"selectable_filter_form_stage\");\n                        if (savedFormStage) {\n                            setFormStageId(savedFormStage)\n                        }\n                    }\n                })\n        }\n    }, [chainId])\n\n    const createSchema = (fields: string[]) => {\n        return {\n            title: t(\"filter.filter_label\"),\n            type: \"array\",\n            items: {\n                type: \"object\",\n                required: [\"field\", \"type\"],\n                properties: {\n                    field: {\n                        type: \"string\",\n                        title: t(\"filter.field_label\"),\n                        enum: [...fields]\n                    },\n                    type: {\n                        type: \"string\",\n                        title: t(\"filter.type_label\"),\n                        enum: TYPES,\n                        enumNames: t(\"filter.types\", { returnObjects: true })\n                    },\n                    conditions: {\n                        type: \"array\",\n                        title: t(\"filter.conditions_label\"),\n                        items: {\n                            type: \"object\",\n                            properties: {\n                                operator: {\n                                    title: t(\"filter.operator_label\"),\n                                    type: \"string\",\n                                    enum: OPERATORS,\n                                    enumNames: t(\"filter.operators\", { returnObjects: true })\n                                },\n                                value: {\n                                    title: t(\"filter.value_label\"),\n                                    description: t(\"filter.value_description\"),\n                                    type: \"string\"\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        };\n    }\n\n    useEffect(() => {\n        if (formStageId) {\n            const parsedStageId = parseId(formStageId)\n            const savedResponses = localStorage.getItem(\"selectable_filter_responses\");\n            if (savedResponses) {\n                setFormResponses(JSON.parse(savedResponses))\n            }\n            getTaskFields(parsedStageId).then(res => {\n                const fields = res.fields;\n                const _schema: any = createSchema(fields)\n                setJsonSchema(_schema)\n            })\n        }\n    }, [formStageId])\n\n\n    const handleChainChange = (event: SelectChangeEvent) => {\n        setChainId(event.target.value);\n        setSearchStageId(\"\")\n        setFormStageId(\"\");\n        setFormResponses({})\n        setJsonSchema({})\n        setUiSchema({})\n        localStorage.setItem(\"selectable_filter_chain\", event.target.value);\n        localStorage.setItem(\"selectable_filter_form_stage\", \"\");\n        localStorage.setItem(\"selectable_filter_responses\", JSON.stringify({}));\n        localStorage.setItem(\"selectable_filter_stage\", \"\");\n    };\n\n    const handleStageChange = (event: SelectChangeEvent) => {\n        setSearchStageId(event.target.value)\n        localStorage.setItem(\"selectable_filter_stage\", event.target.value);\n    }\n\n    const handleFormStageChange = (event: SelectChangeEvent) => {\n        setFormStageId(event.target.value);\n        setFormResponses({})\n        setJsonSchema({})\n        setUiSchema({})\n        localStorage.setItem(\"selectable_filter_form_stage\", event.target.value);\n        localStorage.setItem(\"selectable_filter_responses\", JSON.stringify({}));\n    };\n\n    const handleFormChange = (formData: object) => {\n        setFormResponses(formData)\n        localStorage.setItem(\"selectable_filter_responses\", JSON.stringify(formData));\n    }\n\n    const handleFormSubmit = () => {\n        const parsedFormStageId = formStageId ? parseId(formStageId) : null;\n        const parsedSearchStageId = searchStageId ? parseId(searchStageId) : null;\n        const query = { all_conditions: formResponses, stage: parsedFormStageId, search_stage: parsedSearchStageId };\n        const queryString = JSON.stringify(query)\n        if (simpleFilterMode) {\n            onFilter({ query: simpleFilterQuery, mode: \"simple\" })\n        } else {\n            onFilter({ query: queryString, mode: \"complex\" })\n        }\n    };\n\n    const complexFilter = <FormGroup>\n        {chains.length > 0 && <FormControl sx={{ m: 1, minWidth: 120 }}>\n            <InputLabel id=\"select-chain-filter\">{t(\"filter.chain_label\")}</InputLabel>\n            <Select\n                labelId=\"select-chain-label\"\n                id=\"select-chain\"\n                value={chainId}\n                label={t(\"filter.chain_label\")}\n                onChange={handleChainChange}\n            >\n                <MenuItem value=\"\">\n                    <em>None</em>\n                </MenuItem>\n                {chains.map((item: any) => <MenuItem key={`filter_chain_${item.id}`}\n                    value={item.id}>{item.name}</MenuItem>)}\n            </Select>\n        </FormControl>}\n        <FormControl disabled={chainId === \"\"} sx={{ m: 1, minWidth: 120 }}>\n            <InputLabel id=\"select-stage-filter\">{t(\"filter.search_stage_label\")}</InputLabel>\n            <Select\n                labelId=\"select-stage-label\"\n                id=\"search-stage\"\n                value={searchStageId}\n                label={t(\"filter.search_stage_label\")}\n                onChange={handleStageChange}\n            >\n                <MenuItem value=\"\">\n                    <em>None</em>\n                </MenuItem>\n                {stages.map((item: any) => <MenuItem key={`filter_stage_${item.id}`}\n                    value={item.id}>{item.name}</MenuItem>)}\n            </Select>\n        </FormControl>\n        <FormControl disabled={chainId === \"\"} sx={{ m: 1, minWidth: 120 }}>\n            <InputLabel id=\"select-form-stage-filter\">{t(\"filter.stage_label\")}</InputLabel>\n            <Select\n                labelId=\"select-stage-label\"\n                id=\"select-stage\"\n                value={formStageId}\n                label={t(\"filter.stage_label\")}\n                onChange={handleFormStageChange}\n            >\n                <MenuItem value=\"\">\n                    <em>None</em>\n                </MenuItem>\n                {stages.map((item: any) => <MenuItem key={`filter_form_stage_${item.id}`}\n                    value={item.id}>{item.name}</MenuItem>)}\n            </Select>\n        </FormControl>\n        <Box sx={{ m: 1, minWidth: 120 }}>\n            <Form\n                schema={jsonSchema}\n                uiSchema={uiSchema}\n                formData={formResponses}\n                hideButton={true}\n                onChange={handleFormChange}\n                onSubmit={handleFormSubmit}\n            >\n                <Button fullWidth type={\"submit\"} sx={{ mx: 1, mb: 2 }} variant={\"contained\"}>{t(\"filter.search_button\")}</Button>\n            </Form>\n        </Box>\n    </FormGroup>\n\n    const simpleFilter = <Box>\n        <TextField label=\"Поиск\" variant=\"outlined\" fullWidth onChange={(event) => setSimpleFilterQuery(event.target.value)} />\n        <Button sx={{ my: 2 }} fullWidth onClick={handleFormSubmit} variant={\"contained\"}>{t(\"filter.search_button\")}</Button>\n    </Box>\n\n    return (\n        <Box>\n            <Box display={\"flex\"} alignItems=\"center\" m={1}>\n                <Typography>Простой фильтр</Typography>\n                <Switch checked={simpleFilterMode} onChange={(event) => setSimpleFilterMode(event.target.checked)}/>\n            </Box>\n\n            {\n                simpleFilterMode ? simpleFilter : complexFilter\n            }\n        </Box>\n    );\n};\n\nexport default TaskFilter","import React, { useEffect, useState } from 'react';\nimport { Box, Button, Card, CardContent, Grid, Pagination, Tab, Typography, useMediaQuery } from \"@mui/material\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport useAxios from \"../../services/api/useAxios\";\nimport useHelpers from \"../../utils/hooks/UseHelpers\";\nimport { TabContext, TabList, TabPanel } from \"@mui/lab\";\nimport { useTranslation } from \"react-i18next\";\n\n\nconst Notifications = ({ importance, onlyNew }: { importance?: number, onlyNew?: boolean }) => {\n    const [viewedNotifications, setViewedNotifications] = useState<any[]>([]);\n    const [notViewedNotifications, setNotViewedNotifications] = useState<any[]>([]);\n    const [totalPages, setTotalPages] = useState(0)\n    const [page, setPage] = React.useState(1);\n    const [tab, setTab] = useState(\"1\");\n\n    const matches = useMediaQuery('(min-width:600px)');\n    const navigate = useNavigate();\n    const { campaignId } = useParams();\n    const { parseId, formatDateString } = useHelpers();\n    const parsedCampaignId = parseId(campaignId);\n    const { getUserNotifications, getNotificationContent } = useAxios();\n    const { t } = useTranslation();\n\n    useEffect(() => {\n        if (tab === \"1\") {\n            getUserNotifications(parsedCampaignId, false, importance).then(res => {\n                setTotalPages(Math.ceil(res.count / 10));\n                setNotViewedNotifications(res.results);\n            })\n        } else if (tab === \"2\") {\n            getUserNotifications(parsedCampaignId, true, importance).then(res => {\n                setTotalPages(Math.ceil(res.count / 10));\n                setViewedNotifications(res.results);\n            })\n        }\n        setPage(1);\n    }, [tab])\n\n    const handlePageChange = (event: React.ChangeEvent<unknown>, value: number) => {\n        setPage(value);\n        console.log(tab)\n        if (value) {\n            if (tab === \"1\") {\n                getUserNotifications(parsedCampaignId, false, importance, value).then(res => {\n                    setTotalPages(Math.ceil(res.count / 10));\n                    setNotViewedNotifications(res.results);\n                })\n            } else if (tab === \"2\") {\n                getUserNotifications(parsedCampaignId, true, importance, value).then(res => {\n                    setTotalPages(Math.ceil(res.count / 10));\n                    setViewedNotifications(res.results);\n                })\n            }\n        }\n    };\n\n    const handleTabChange = (event: React.ChangeEvent<{}>, newValue: string) => {\n        setTab(newValue);\n    };\n\n    const openMessage = (id: number) => {\n        navigate(`/campaign/${campaignId}/notifications/${id}`)\n    }\n\n    if (onlyNew) {\n        return (\n            <Box>\n                {notViewedNotifications.map(message =>\n                    <Grid container justifyContent=\"center\" key={message.id} p={1}>\n                        <Card onClick={() => openMessage(message.id)}\n                            sx={{ width: matches ? 700 : 300, background: 'lightblue', cursor: \"pointer\" }}>\n                            <CardContent>\n                                <Typography variant=\"h6\">\n                                    {message.title}\n                                </Typography>\n                                <Typography variant=\"body2\" component=\"p\">\n                                    {formatDateString(message.created_at)}\n                                </Typography>\n                            </CardContent>\n                        </Card>\n                        <Button\n                            variant={'contained'}\n                            sx={{ background: '#adbce6' }}\n                            onClick={() => getNotificationContent(parseId(message.id))}>X\n                        </Button>\n                    </Grid>\n                )}\n            </Box>\n        );\n    } else {\n        return (\n            <Box>\n                <Typography align={\"center\"} variant={\"h5\"} p={2}>{t(\"notifications.title\")}</Typography>\n                <Box sx={{ width: '100%', typography: 'body1' }}>\n                    <TabContext value={tab}>\n                        <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\n                            <TabList onChange={handleTabChange} aria-label=\"lab API tabs example\" centered variant={\"fullWidth\"}>\n                                <Tab label={t(\"notifications.unread\")} value=\"1\" />\n                                <Tab label={t(\"notifications.read\")} value=\"2\" />\n                            </TabList>\n                        </Box>\n                        <TabPanel value=\"1\">\n                            {notViewedNotifications.map(message =>\n                                <Grid container justifyContent=\"center\" key={message.id} p={1}>\n                                    <Card onClick={() => openMessage(message.id)}\n                                        sx={{ width: matches ? 700 : 300, background: 'lightblue', cursor: \"pointer\" }}>\n                                        <CardContent>\n                                            <Typography variant=\"h6\">\n                                                {message.title}\n                                            </Typography>\n                                            <Typography variant=\"body2\" component=\"p\">\n                                                {formatDateString(message.created_at)}\n                                            </Typography>\n                                        </CardContent>\n                                    </Card>\n                                </Grid>\n                            )}\n                        </TabPanel>\n                        <TabPanel value=\"2\">\n                            {viewedNotifications.map(message =>\n                                <Grid container justifyContent=\"center\" key={message.id} p={1}>\n                                    <Card onClick={() => openMessage(message.id)}\n                                        sx={{ width: matches ? 700 : 300, background: 'lightblue', cursor: \"pointer\" }}>\n                                        <CardContent>\n                                            <Typography variant=\"h6\">\n                                                {message.title}\n                                            </Typography>\n                                            <Typography variant=\"body2\" component=\"p\">\n                                                {formatDateString(message.created_at)}\n                                            </Typography>\n                                        </CardContent>\n                                    </Card>\n                                </Grid>\n                            )}\n                        </TabPanel>\n                    </TabContext>\n                    {totalPages > 1 && <Box p={2} display={\"flex\"} justifyContent={\"center\"}>\n                        <Pagination count={totalPages} page={page} onChange={handlePageChange} showFirstButton\n                            showLastButton />\n                    </Box>}\n                </Box>\n            </Box>\n        );\n    }\n};\n\nexport default Notifications\n","import React from 'react';\nimport {Button, CardActions, CardContent, Typography} from '@mui/material'\nimport MuiCard from '@mui/material/Card';\nimport {useTranslation} from \"react-i18next\";\n\ntype Props = {\n    name: string,\n    description: string,\n    id: number,\n    reopened: boolean,\n    onClick: (id: number) => void;\n};\n// TODO: Merge TaskCard with Card\nconst TaskCard = (props: Props) => {\n    const {name, description, id, reopened, onClick} = props;\n\n    const {t} = useTranslation();\n\n    const handleClick = () => {\n        onClick(id)\n    }\n\n    return (\n        <MuiCard>\n            <CardContent sx={{pb: 1}}>\n                <Typography variant=\"h5\" component=\"div\">\n                    {name}\n                </Typography>\n                <Typography gutterBottom variant={\"caption\"} color=\"text.secondary\">ID: {id}</Typography>\n                <Typography overflow={\"hidden\"} textOverflow={\"ellipsis\"} variant=\"body2\"\n                            sx={{height: 60, maxWidth: 500}}>\n                    {description}\n                </Typography>\n            </CardContent>\n            <CardActions sx={{justifyContent: \"space-between\"}}>\n                <Button size=\"small\" onClick={handleClick}>{t(\"open\")}</Button>\n                <Typography color={\"error\"} hidden={!reopened}>{t('returned')}</Typography>\n            </CardActions>\n        </MuiCard>\n    );\n};\n\nexport default TaskCard","import React, {useCallback, useEffect, useState} from 'react';\nimport {Box, Grid, Pagination, Tab, Typography} from \"@mui/material\";\nimport List from \"../../components/list/List\";\nimport useAxios from \"../../services/api/useAxios\";\nimport {useNavigate, useParams, useSearchParams} from \"react-router-dom\";\nimport useHelpers from \"../../utils/hooks/UseHelpers\";\nimport Task from \"./task/Task\";\nimport {TabContext, TabList, TabPanel} from \"@mui/lab\";\nimport TaskFilter from \"./TaskFilter\";\nimport Notifications from '../notifications/Notifications';\nimport {useTranslation} from \"react-i18next\";\nimport Card from \"../../components/card/Card\";\nimport TaskCard from \"../../components/card/TaskCard\";\n\nconst Tasks = () => {\n    const {\n        getOpenTasks,\n        getCompleteTasks,\n        getCreatableTasks,\n        requestTaskCreation,\n        getSelectableTasks,\n        requestCampaignJoin\n    } = useAxios();\n\n    const navigate = useNavigate();\n    const {campaignId} = useParams();\n    const {parseId} = useHelpers();\n    const parsedCampaignId = parseId(campaignId);\n    const {t} = useTranslation();\n\n    const [openTasks, setOpenTasks] = useState([]);\n    const [completedTasks, setCompletedTasks] = useState([]);\n    const [creatableTasks, setCreatableTasks] = useState([]);\n    const [selectableTasks, setSelectableTasks] = useState<any>([]);\n    const [tab, setTab] = useState(\"1\");\n    const [totalPages, setTotalPages] = useState(0);\n    const [page, setPage] = useState(1);\n    const [filterFormData, setFilterFormData] = useState<any>();\n\n    const [searchParams, setSearchParams] = useSearchParams();\n\n    const handleTabChange = (event: React.SyntheticEvent, newValue: string) => {\n        setTab(newValue);\n        setFilterFormData(null);\n    };\n\n    const handleOpen = (id: number) => {\n        navigate(`/campaign/${campaignId}/tasks/${id}`)\n    }\n\n    const handleCreate = (id: number) => {\n        requestTaskCreation(id).then((res) => handleOpen(res.id))\n    }\n\n    const formatData = (data: any[]) => {\n        return data.map((item: { id: number, reopened?: boolean, stage: { name: string, description: string } }) => ({\n            id: item.id,\n            name: item.stage.name,\n            description: item.stage.description,\n            reopened: item.reopened ? item.reopened : false\n        })) as any;\n    }\n\n    const getSelectable = (campaign: number, page?: number, filter?: {query: string, mode: \"simple\" | \"complex\"}) => {\n        return getSelectableTasks(campaign, page, filter).then(res => {\n            setTotalPages(Math.ceil(res.count / 10))\n            return res.results;\n        })\n    };\n\n    const getData = (id: number, tab: string, page?: number, filter?: {query: string, mode: \"simple\" | \"complex\"}) => {\n        if (tab === \"1\") {\n            getOpenTasks(id).then(res => setOpenTasks(res));\n        } else if (tab === \"2\") {\n            getCompleteTasks(id).then(res => setCompletedTasks(res));\n        } else if (tab === \"3\") {\n            getSelectable(id, page, filter).then(res => setSelectableTasks(res));\n        }\n    }\n\n    useEffect(() => {\n        getData(parsedCampaignId, tab, page, filterFormData);\n    }, [tab, page])\n\n    useEffect(() => {\n        if (searchParams.has('join') && searchParams.get('join') === 'true') {\n            requestCampaignJoin(parsedCampaignId)\n                .then(() => getCreatableTasks(parsedCampaignId)\n                    .then(res => setCreatableTasks(res)));\n        } else {\n            getCreatableTasks(parsedCampaignId)\n                .then(res => setCreatableTasks(res));\n        }\n    }, [])\n\n    const handlePageChange = (event: React.ChangeEvent<unknown>, value: number) => {\n        setPage(value);\n    };\n\n    const getFilteredData = (filter: {query: string, mode: \"simple\" | \"complex\"}) => {\n        getSelectableTasks(parsedCampaignId, 1, filter).then(res => {\n            if (res.count > 0) {\n                setFilterFormData(filter)\n                setPage(1)\n                setTotalPages(Math.ceil(res.count / 10))\n                setSelectableTasks(res.results)\n            } else {\n                setFilterFormData(null)\n                alert(\"Нет похожих тасков\")\n            }\n        })\n    }\n\n    return (\n        <Box px={1}>\n            <Notifications importance={0} onlyNew={true}/>\n            <List id={\"creatable_tasks\"} data={creatableTasks} onSelect={handleCreate} hideViewButton={true}\n                  hideCreateButton={true}/>\n            <TabContext value={tab}>\n                <Box sx={{borderBottom: 1, borderColor: 'divider'}}>\n                    <TabList onChange={handleTabChange} aria-label=\"lab API tabs example\" variant=\"fullWidth\">\n                        <Tab label={t(\"tasks.uncompleted\")} value=\"1\"/>\n                        <Tab label={t(\"tasks.completed\")} value=\"2\"/>\n                        <Tab label={t(\"tasks.available\")} value=\"3\"/>\n                    </TabList>\n                </Box>\n                <TabPanel value=\"1\" sx={{padding: 1}}>\n                    {/*<List id={\"open_tasks\"} data={openTasks} onSelect={handleOpen} hideCreateButton={true}/>*/}\n                    <Grid container py={2} spacing={{xs: 2, md: 3}} columns={{xs: 4, sm: 8, md: 12}}>\n                        {openTasks.length > 0 && openTasks.map((item: any, index) =>\n                            <Grid item xs={2} sm={4} md={4} key={index}>\n                                <TaskCard onClick={handleOpen} id={item.id} name={item.stage.name}\n                                          description={item.stage.description} reopened={item.reopened}/>\n                            </Grid>\n                        )}\n                    </Grid>\n                </TabPanel>\n                <TabPanel value=\"2\" sx={{padding: 1}}>\n                    {/*<List id={\"complete_tasks\"} data={completedTasks} onSelect={handleOpen} hideCreateButton={true}/>*/}\n                    <Grid container py={2} spacing={{xs: 2, md: 3}} columns={{xs: 4, sm: 8, md: 12}}>\n                        {completedTasks.length > 0 && completedTasks.map((item: any, index) =>\n                            <Grid item xs={2} sm={4} md={4} key={index}>\n                                <TaskCard onClick={handleOpen} id={item.id} name={item.stage.name}\n                                          description={item.stage.description} reopened={item.reopened}/>\n                            </Grid>\n                        )}\n                    </Grid>\n                    {/*<Box pb={2} display={\"flex\"} justifyContent={\"center\"}>*/}\n                    {/*    <Pagination count={totalPages} page={page} onChange={handlePageChange} showFirstButton*/}\n                    {/*                showLastButton/>*/}\n                    {/*</Box>*/}\n                </TabPanel>\n                <TabPanel value=\"3\" sx={{padding: 1}}>\n                    <TaskFilter onFilter={getFilteredData} campaign={parsedCampaignId}/>\n                    <Grid container py={2} spacing={2}>\n                        {selectableTasks.length > 0 ? selectableTasks.map((item: any, index: number) =>\n                                <Grid item xs={12} key={index}>\n                                    <Task id={item.id} view={\"split\"} updateState={() => getData(parsedCampaignId, tab)}\n                                          hidePrompt={true}\n                                          variant={\"quick\"}/>\n                                </Grid>\n                            )\n                            :\n                            <Typography align={\"center\"}>Нет доступных заданий.</Typography>\n                        }\n                    </Grid>\n                    {/*<Grid container py={2} spacing={{xs: 2, md: 3}} columns={{xs: 4, sm: 8, md: 12}}>*/}\n                    {/*    {selectableTasks.length > 0 && selectableTasks.map((item: any, index: number) =>*/}\n                    {/*        <Grid item xs={2} sm={4} md={4} key={index}>*/}\n                    {/*            <TaskCard onClick={handleOpen} id={item.id} name={item.stage.name}*/}\n                    {/*                      description={item.stage.description} reopened={item.reopened}/>*/}\n                    {/*        </Grid>*/}\n                    {/*    )}*/}\n                    {/*</Grid>*/}\n                    <Box pb={2} display={\"flex\"} justifyContent={\"center\"} hidden={totalPages <= 1}>\n                        <Pagination count={totalPages} page={page} onChange={handlePageChange} showFirstButton\n                                    showLastButton/>\n                    </Box>\n                </TabPanel>\n            </TabContext>\n        </Box>\n    );\n};\n\nexport default Tasks","import React, {useEffect, useState} from \"react\";\nimport useAxios from \"../../services/api/useAxios\";\nimport {Box} from \"@mui/material\";\nimport {useNavigate} from \"react-router-dom\";\nimport List from \"../../components/list/List\";\nimport {useTranslation} from \"react-i18next\";\n\nconst Campaigns = () => {\n    const {getUserCampaigns, getSelectableCampaigns} = useAxios();\n    const navigate = useNavigate();\n    const {t} = useTranslation();\n\n    const [data, setData] = useState([]);\n    const [selectableCampaigns, setSelectableCampaigns] = useState([]);\n\n    useEffect(() => {\n        getUserCampaigns().then(res => setData(res));\n        getSelectableCampaigns().then(res => setSelectableCampaigns(res));\n    }, [])\n\n    const handleOpen = (id: number) => {\n        navigate(`/campaign/${id}/tasks`)\n    }\n\n    const handleSelect = (id: number) => {\n        navigate(`/campaign/${id}/about`)\n    }\n\n    return (\n        <Box px={3} py={1}>\n            <List id={\"user_campaigns\"} data={data} hideCreateButton={true} label={t(\"campaigns.user_campaigns\")} onSelect={handleOpen}/>\n            <List hidden={selectableCampaigns.length === 0} id={\"selectable_campaigns\"} data={selectableCampaigns} hideCreateButton={true} label={t(\"campaigns.selectable_campaigns\")} onSelect={handleSelect}/>\n        </Box>\n    )\n}\n\nexport default Campaigns","import React, {useEffect, useState} from 'react';\nimport BuilderLayout from \"../../../components/layout/common-layouts/BuilderLayout\";\nimport {Button, Typography} from \"@mui/material\";\nimport useAxios from \"../../../services/api/useAxios\";\nimport {useNavigate, useParams} from \"react-router-dom\";\nimport useHelpers from \"../../../utils/hooks/UseHelpers\";\nimport TextViewer from \"../../../components/text-editor/TextViewer\";\nimport {useTranslation} from \"react-i18next\";\n\ntype Props = {};\n\nconst About = (props: Props) => {\n    const {} = props;\n    const {requestCampaignInfo, requestCampaignJoin} = useAxios();\n    const navigate = useNavigate();\n    const {campaignId} = useParams();\n    const {parseId} = useHelpers();\n    const parsedCampaignId = parseId(campaignId);\n    const {t} = useTranslation();\n\n    const [name, setName] = useState(\"\")\n    const [description, setDescription] = useState(\"\")\n    const [richText, setRichText] = useState(\"\")\n\n    useEffect(() => {\n        requestCampaignInfo(parsedCampaignId)\n            .then(res => {\n                const {richText, name, description} = res;\n                if (name) {\n                    setName(name)\n                }\n                if (description) {\n                    setDescription(description)\n                }\n                if (richText) {\n                    setRichText(richText)\n                }\n            })\n    }, [parsedCampaignId])\n\n    const joinCampaign = () => {\n        requestCampaignJoin(parsedCampaignId).then(() => navigate(`/campaign/${campaignId}/tasks`))\n    }\n\n    return (\n        <BuilderLayout>\n            <Typography variant={\"h3\"} align={\"center\"}>{name}</Typography>\n            <Typography variant={\"h6\"} align={\"center\"}>{description}</Typography>\n            {richText && <TextViewer data={richText}/>}\n            <Button variant={\"contained\"} color={\"warning\"} fullWidth onClick={joinCampaign}>{t(\"campaigns.join\")}</Button>\n        </BuilderLayout>\n    );\n};\n\nexport default About","import React, {useEffect, useState} from \"react\";\nimport {useParams} from \"react-router-dom\";\nimport {Grid, Typography} from \"@mui/material\";\nimport useHelpers from \"../../utils/hooks/UseHelpers\";\nimport useAxios from \"../../services/api/useAxios\";\nimport TextViewer from \"../../components/text-editor/TextViewer\";\n\n\nconst NotificationContent = () => {\n    const {id} = useParams();\n    const {parseId} = useHelpers();\n    const parsedId = parseId(id);\n    const {getNotificationContent} = useAxios();\n\n    const [data, setData] = useState<any>({})\n\n    useEffect(() => {\n        getNotificationContent(parsedId).then(res => setData(res))\n    }, [parsedId])\n\n    return (\n        <Grid container justifyContent={\"center\"}>\n            <Grid item xs={12} p={1}>\n                <Typography align={\"center\"} variant={\"h6\"}>{data.title}</Typography>\n            </Grid>\n            <Grid item xs={12}>\n                <TextViewer data={data.text}/>\n            </Grid>\n        </Grid>\n    )\n}\n\nexport default NotificationContent","import React from \"react\";\nimport { HashRouter as Router, Route, Routes } from \"react-router-dom\";\nimport AuthProvider from \"./context/authentication/AuthProvider\";\nimport ToastProvider from \"./context/toast/ToastProvider\";\nimport RequireAuth from \"./pages/login/RequireAuth\";\nimport Layout from \"./components/layout/Layout\";\nimport Login from \"./pages/login/Login\";\nimport Tasks from \"./pages/tasks/Tasks\";\nimport Campaigns from \"./pages/campaigns/Campaigns\";\nimport About from \"./pages/campaigns/about/About\";\nimport Task from \"./pages/tasks/task/Task\";\nimport Notifications from \"./pages/notifications/Notifications\";\nimport NotificationContent from \"./pages/notifications/NotificationContent\";\n\nconst App = () => (\n    <ToastProvider>\n        <AuthProvider>\n            <Router>\n                <Routes>\n                    <Route path=\"/\" element={<RequireAuth><Layout /></RequireAuth>}>\n                        <Route path={\"campaign\"}>\n                            <Route path=\":campaignId\">\n                                <Route path={\"notifications\"}>\n                                    <Route path={\":id\"} element={<NotificationContent />} />\n                                    <Route index element={<Notifications />} />\n                                </Route>\n                                <Route path={\"about\"} element={<About />} />\n                                <Route path={\"tasks\"}>\n                                    <Route path={\":taskId\"}>\n                                        <Route index element={<Task />} />\n                                    </Route>\n                                    <Route index element={<Tasks />} />\n                                </Route>\n                                <Route index element={<Tasks />} />\n                            </Route>\n                            <Route index element={<Campaigns />} />\n                        </Route>\n                        <Route index element={<Campaigns />} />\n                    </Route>\n                    <Route path={\"login\"} element={<Login />} />\n                </Routes>\n            </Router>\n        </AuthProvider>\n    </ToastProvider>\n)\n\nexport default App","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import i18next from \"i18next\";\nimport {initReactI18next} from \"react-i18next\";\n\nconst resources = {\n    en: {\n        translation: {\n            widgets: {\n                date_time_label: \"Date & Time\",\n                date_label: \"Date\"\n            },\n            returned: \"Returned\",\n            edit: \"Edit\",\n            accepted: \"Accepted\",\n            files: {\n                choose_files: \"Choose files\",\n                view_file: \"View\",\n                remove_file: \"Remove\"\n            },\n            notifications: {\n                title: \"Notifications\",\n                unread: \"Unread\",\n                read: \"Read\",\n            },\n            submit: \"Submit\",\n            open: \"Open\",\n            appbar: {\n                log_out: \"Log out\",\n                tasks: \"Tasks\",\n                notifications: \"Notifications\"\n            },\n            task: {\n                leave_page: \"Are you sure you want to leave this page?\",\n                returned_message: \"This task was returned\",\n                open_previous: \"Open previous\",\n                release: \"Release\",\n                submit: \"Submit\",\n                saved_message: \"Saved\",\n                divider_text: \"Current Task\"\n            },\n            sign_up_page: {\n                title: \"Register\",\n                description1: \"Click the button (Login or Register)\",\n                description2: \"If you don't have a Google account, please create one.\",\n                sign_up_button: \"Log in with Google\",\n                phone_number: \"Phone\",\n                otp_code: \"Code\",\n                request_code_button: \"Request code\",\n                submit_code_button: \"Submit\",\n                divider_text: \"or Log in with Phone\",\n                invalid_code_error: \"Invalid verification code\",\n                invalid_phone_number: \"Invalid number format\",\n                unknown_login_with_phone_error: \"Unknown error\",\n                phone_helper_text: \"Please enter your phone number using the country code. If you live in Kyrgyzstan, enter the number as in the example: +996 707 00 00 00\",\n            },\n            campaigns: {\n                user_campaigns: \"My campaigns\",\n                selectable_campaigns: \"Available campaigns\",\n                join: \"Join\",\n                details: \"Details\",\n            },\n            list_header: {\n                create: \"Create\",\n                grid: \"Grid\",\n                list: \"List\"\n            },\n            tasks: {\n                title: \"Tasks\",\n                completed: \"Completed\",\n                uncompleted: \"Uncompleted\",\n                available: \"Available\",\n            },\n            filter: {\n                chain_label: \"Chain\",\n                search_stage_label: \"Desired Stage\",\n                stage_label: \"Filter Stage\",\n                filter_label: \"Filter\",\n                field_label: \"Field\",\n                type_label: \"Field's type\",\n                types: [\"Text\", \"Number\", \"Date-Time\"],\n                conditions_label: \"Conditions\",\n                value_label: \"Value\",\n                value_description: \"If field's type is Date-Time, please write in format year-month-day. Example: 2022-04-03\",\n                operator_label: \"Operators\",\n                operators: [\"Equal\", \"Not equal\", \"Less\", \"Greater\", \"Less or Equal\", \"Greater or Equal\"],\n                search_button: \"Search\"\n            }\n        },\n    },\n    ru: {\n        translation: {\n            widgets: {\n                date_time_label: \"Дата и Время\",\n                date_label: \"Дата\"\n            },\n            returned: \"Возвращено\",\n            edit: \"Редак.\",\n            accepted: \"Получен\",\n            files: {\n                choose_files: \"Выбрать файлы\",\n                view_file: \"Посмотреть файл\",\n                remove_file: \"Удалить\"\n            },\n            notifications: {\n                title: \"Уведомления\",\n                unread: \"Непрочитанные\",\n                read: \"Прочитанные\",\n            },\n            submit: \"Отправить\",\n            open: \"Открыть\",\n            appbar: {\n                log_out: \"Выход\",\n                tasks: \"Задания\",\n                notifications: \"Уведомления\"\n            },\n            task: {\n                leave_page: \"Вы уверены, что хотите покинуть эту страницу?\",\n                returned_message: \"Это задание было возвращено!\",\n                open_previous: \"Открыть предыдущее задание\",\n                release: \"Освободить задание\",\n                submit: \"Отправить\",\n                saved_message: \"Данные сохранены\",\n                divider_text: \"Текущая форма\"\n            },\n            sign_up_page: {\n                title: \"Регистрация\",\n                description1: \"Нажмите на кнопку (Вход или Регистрация).\",\n                description2: \"Если у вас нет аккаунта Google, то создайте его.\",\n                sign_up_button: \"Войти через аккаунт Google\",\n                phone_number: \"Телефон\",\n                otp_code: \"Код\",\n                request_code_button: \"Получить код\",\n                submit_code_button: \"Отправить\",\n                divider_text: \"или войдите с помощью телефона\",\n                invalid_code_error: \"Неправильный код верификации\",\n                invalid_phone_number: \"Неправильный формат\",\n                unknown_login_with_phone_error: \"Неизвестная ошибка\",\n                phone_helper_text: \"Вы должны ввести свой номер телефона используя код страны, например: Если вы живете в Кыргызстане, то вы должны вписать свой номер так +996 707 00 00 00\",\n            },\n            campaigns: {\n                user_campaigns: \"Мои кампании\",\n                selectable_campaigns: \"Доступные кампании\",\n                join: \"Присоединиться\",\n                details: \"Подробнее\",\n            },\n            list_header: {\n                create: \"Создать\",\n                grid: \"Сетка\",\n                list: \"Список\"\n            },\n            tasks: {\n                title: \"Задания\",\n                completed: \"Завершенные\",\n                uncompleted: \"Невыполненные\",\n                available: \"Доступные\",\n            },\n            filter: {\n                chain_label: \"Цепочка\",\n                search_stage_label: \"Искомый Cтейдж\",\n                stage_label: \"Фильтрующий Стейдж\",\n                filter_label: \"Фильтр\",\n                field_label: \"Поле\",\n                type_label: \"Тип поля\",\n                types: [\"Текст\", \"Число\", \"Дата-Время\"],\n                conditions_label: \"Условия\",\n                value_label: \"Значение\",\n                value_description: \"Если тип поля Дата-Время, пожалуйста заполняйте в формате год-месяц-день. Пример: 2022-04-03\",\n                operator_label: \"Оператор\",\n                operators: [\"Равно\", \"Не равно\", \"Меньше\", \"Больше\", \"Меньше или Равно\", \"Больше или Равно\"],\n                search_button: \"Поиск\"\n            }\n        },\n    },\n};\n\ni18next\n    .use(initReactI18next)\n    .init({\n        resources,\n        lng: \"ru\",\n        supportedLngs: [\"en\", \"ru\"],\n        interpolation: {\n            escapeValue: false,\n        },\n    });\n\nexport default i18next;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport \"./services/localization/i18n\";\n\nReactDOM.render(\n    // <React.StrictMode>\n        <App/>,\n    // </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}